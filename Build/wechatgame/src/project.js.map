{"version":3,"sources":["assets/scripts/lib/extensions/ActionExtension.ts","assets/scripts/project/view/Animal.ts","assets/scripts/project/util/AudioManager.ts","assets/scripts/project/util/AudioUtil.ts","assets/scripts/project/command/BackHomeCommand.ts","assets/scripts/project/impl/Begin.ts","assets/scripts/lib/framework/Bind/BindConst.ts","assets/scripts/lib/framework/Bind/Binder.ts","assets/scripts/lib/framework/Bind/Binding.ts","assets/scripts/lib/framework/Command/CommandBinder.ts","assets/scripts/lib/framework/Command/CommandBinding.ts","assets/scripts/lib/framework/Command/CommandConst.ts","assets/scripts/lib/framework/Command/Command.ts","assets/scripts/project/Common.ts","assets/scripts/lib/framework/Context/Context.ts","assets/scripts/project/view/CountDownView.ts","assets/scripts/lib/framework/Decorator/DecoratorClassBinder.ts","assets/scripts/lib/framework/Decorator/DecoratorClassBinding.ts","assets/scripts/lib/framework/Decorator/DecoratorClass.ts","assets/scripts/lib/framework/Decorator/DecoratorConst.ts","assets/scripts/project/view/Food.ts","assets/scripts/project/command/GenerateCommand.ts","assets/scripts/lib/framework/Command/ICommandBinder.ts","assets/scripts/lib/framework/Context/IRoot.ts","assets/scripts/lib/framework/Injector/InjectBinder.ts","assets/scripts/lib/framework/Injector/InjectBinding.ts","assets/scripts/lib/framework/Injector/InjectConst.ts","assets/scripts/lib/framework/Injector/InjectDecorator.ts","assets/scripts/lib/framework/Injector/InjectFactory.ts","assets/scripts/lib/framework/Injector/Injector.ts","assets/scripts/project/command/InputControlCommand.ts","assets/scripts/project/Model/InputModel.ts","assets/scripts/lib/extensions/IocComponet.ts","assets/scripts/lib/framework/IocConst.ts","assets/scripts/lib/extensions/IocRoot.ts","assets/scripts/lib/extensions/IocView.ts","assets/scripts/project/view/LogicNode.ts","assets/scripts/project/wxgame/login/Login.js","assets/scripts/project/command/LookRankCommand.ts","assets/scripts/project/context/MainContext.ts","assets/scripts/project/Model/MainModel.ts","assets/scripts/project/view/MainNode.ts","assets/scripts/project/context/MainRoot.ts","assets/scripts/project/signal/MainSignalEnum.ts","assets/scripts/project/signal/MainSignalManager.ts","assets/scripts/project/util/MainUtil.ts","assets/scripts/project/util/Manager.ts","assets/scripts/project/command/MatchCommand.ts","assets/scripts/project/util/Model.ts","assets/scripts/project/view/PauseNode.ts","assets/scripts/project/PersistRoot.ts","assets/scripts/lib/extensions/Pool.ts","assets/scripts/project/util/PrefabManager.ts","assets/scripts/project/helper/PrefabPool.ts","assets/scripts/lib/extensions/Prototype.ts","assets/scripts/project/wxgame/rank/Rank.js","assets/scripts/project/command/RestartCommand.ts","assets/scripts/lib/framework/Signal/SignalManager.ts","assets/scripts/lib/framework/Signal/Signal.ts","assets/scripts/project/util/Singleton.ts","assets/scripts/lib/extensions/Stack.ts","assets/scripts/project/command/StartCommand.ts","assets/scripts/project/wxgame/rank/TipsUiView.ts","assets/scripts/project/util/TouchUtil.ts","assets/scripts/project/command/UpdateCommand.ts","assets/scripts/project/util/Util.ts","assets/scripts/project/wxgame/WxGameApi.js","assets/scripts/project/util/index.ts"],"names":["_a","cc","_decorator","ccclass","Shake","property","_super","_this","apply","this","arguments","_initial_x","_initial_y","_strength_x","_strength_y","__extends","Shake_1","create","duration","strength_x","strength_y","act","initWithDuration","prototype","ActionInterval","fgRangeRand","min","max","Math","random","update","time","randx","randy","getTarget","setPosition","startWithTarget","target","x","y","stop","Vec2","__decorate","exports","InjectDecorator_1","require","Model_1","IocView_1","Animal","type","onLoad","call","start","rePositonAnimal","i","mMdl","animalTextureRect","width","height","offsetRatio","node","inject","__IC_Model","ModelType","Main","IocView","default","AudioManager","isInit","onConstructor","playLoopCount","audioMap","Map","play","key","hasAudio","clip","getAudio","audios","length","playBgm","bgm","loop","has","get","setAudio","value","set","Singleton","AudioUtil","Command_1","InjectBinder_1","BackHomeCommand","execute","gameOver","inj","unbindAllMark","director","loadScene","__IC_InjectBinder","Command","Begin","beginGame","lookRank","Component","BindingConst","NULL","Symbol","Binding_1","BindConst_1","__IC_Binder","Object","defineProperty","IConstructorName","Binder","init","_bindings","resolver","binding","resolveBinding","dict","bindingName","name","existingBinding","delete","bind","getRawBinding","unbind","checkKey","Binding","checkAbstract","getBinding","getBindingMap","__IC_Binding","_resolver","_key","_value","_name","to","toName","isConstructor","constructorName","CommandBinding_1","Pool_1","CommandConst_1","CommandBinder","pools","activeCommands","Set","activeSequences","usePooling","getPool","isPooled","that_1","values","push","forEach","myPool","makePoolFromType","poolType","injectBinder","Pool","CommandConst","COMMAND_POOL","pool","getInstance","CommandBinding","invokeCommand","cmd","args","depth","command","createCommand","sequenceId","trackCommand","executeCommand","data","getCommand","msg","toString","Error","isClean","injector","deploy","add","__IC_Command","isSequence","onDispose","trigger","_i","next","aa","a","releaseCommand","disposeOfSequencedData","isOnce","isRetain","t","constructor","returnInstance","SignalCommandBinder","addListener","signal","toSingleton","createCommandForSignal","_isSequence","_isOnce","Pooled","ICommandBinder_1","_clean","_retain","clean","retain","release","restore","uninject","__IC_CommandBinder","Common","WxGameApi","version","persistRootNode","root","shareTickets","isHasWxRank","maxScore","userOpenId","session_key","unionId","CommandBinder_1","IocConst_1","__IC_Context","Context","firstContext","getRoot","crossContextBinder","addCrossContext","setRoot","addCore","_injectBinder","InjectBinder","_crossContextBinder","_commandBinder","context","removeCrossContext","childContext","restart","instantiateCore","mapBindings","postBindings","launch","toValue","ActionExtension_1","CountDownView","isAutoPlay","label","getComponent","Label","isPlay","completeList","config","step","stepDur","onComplete","complete","dt","before","floor","after","stopAllActions","scale","opacity","scaleActions","scaleBy","fadeActions","fadeIn","fadeOut","string","runAction","sequence","destroy","Number","Boolean","Binder_1","DecoratorClass_1","DecoratorClassBinding_1","Prototype_1","DecoratorClassBinder","_decoratorClassBufferMap","extendsList","Prototype","getPrototypeList","injectClass","DecoratorClass","list","bindingMaps_1","size","inside","j","DecoratorClassBinding","insideDict","insideDict_1","insideDic","_property","toProperty","_list","DecoratorClassBinder_1","DecoratorConst","DECORATOR_CLASS_BINDER","Animal_1","MainSignalEnum_1","Util_1","Manager_1","Food","speed","accel","moveY","Food_1","reuse","unuse","clear","isHide","inited","onCollisionEnter","other","self","otherComponent","selfComponent","sMgr","MainSignalEnum","Match","dispatch","GameSignalEnum","onMatch","resPoolNode","onNotMatch","foodNode","index","currentFoodNodes","indexOf","splice","foodPool","res","randomProps","baseIndex","track","mUtl","randomCoin","lastFoodIndex","lastTrack","randomRange","map","foodDatas","foodIndex","randomValue","foodData","Sprite","spriteFrame","getSceneSize","__IC_Util","UtilType","__IC_Manager","ManagerType","Audio","PrefabPool_1","GenerateCommand","then","generateTouchArea","generateAnimals","area","Node","sceneNode","addChild","tUtl","registerTouchArea","foodPrefab","p1","loadFoodRes","p2","loadAnimalRes","Promise","all","that","resolve","reject","spriteRes","image","spriteFrames","animalDatas","animalData","animalNode","instantiate","animalPrefab","animal","sprite","animalsNode","Touch","Prefab","__IC_Root","Injector_1","InjectBinding_1","DecoratorConst_1","ClassBinder","_injector","Injector","binder","injectClassBinder","instance","tryInject","InjectBinding","unbinds","isUnbind","InjectConst_1","_isUnbind","_bindingType","InjectConst","BindingType","DEFAULT","_isInject","_args","toArgs","VALUE","SINGLETON","unBind","setValue","o","toInject","injectNoNameFunc","injectToNameFunc","_constructor","_target","injectFunc","InjectFactory","bindingType","singletonOf","valueOf","instanceOf","createFromValue","generateImplicit","c","ToString","InjectFactory_1","factory","decoratorUnInject","tryInjectHere","isValueConstructor","isKeyConstructor","isInject","attemptConstructorInjection","decoratorInject","injectBinding","getInjectValue","injv","TouchUtil_1","InputControlCommand","on","TouchDirection","Up","status","sPosX","areaOnMove","Down","Left","sPosY","Right","direction","pauseFlag","rotateAnimals","isRotationing","iMdl","waitingHandle","aMgr","rotateAction","rotateDur","lastAction","callFunc","resetAnimalsNode","children","animalsNodeChildren","switchIndex","setScale","one","two","temp","Input","InputModel","BubbleType","Context_1","IocRoot_1","IocComponet","_requiresContext","_registerWithContext","enabled","activeInHierarchy","autoRegisterWithContext","registeredWithContext","shouldRegister","bubbleToContext","Add","view","finalTry","loopLimiter","parent","IocRoot","iocContext","success","Remove","Enable","Disable","requiresContext","IocError","IC_ERROR","onDestroy","IocComponet_1","SignalManager_1","__IC_SignalManager","LogicNode","Update","Class","extends","properties","_common2","_WxGameApi2","isRunInWeiXin","getCachePromise","url","getOrCacheResFile","resPath","playBGM","viedo","Date","getSeconds","diff","console","info","wx","login","fail","launchOptionsSync","preloadFriendInfo","preloadGroupInfo","getOpenDataContext","postMessage","message","function","getLaunchOptionsSync","scene","shareTicket","LookRankCommand","StartCommand_1","MainSignalManager_1","MainModel_1","UpdateCommand_1","GenerateCommand_1","MainUtil_1","RestartCommand_1","LookRankCommand_1","MatchCommand_1","PrefabManager_1","InputControlCommand_1","InputModel_1","AudioUtil_1","AudioManager_1","BackHomeCommand_1","MainContext","MainSignalManager","MainModel","Instance","MainUtil","TouchUtil","signalMgr","commandBinder","Start","StartCommand","UpdateCommand","Generate","Restart","RestartCommand","LookRank","MatchCommand","InputControl","BackHome","isLookVideo","score","timer","lastTimer","timePeriod","currentLevel","initTimePeriod","minTimePeriod","lastScore","harderRatios","Common_1","MainNode","onHide","onShow","viedoHandle","MainRoot","SignalManager","winSize","resourceUrl","loader","loadRes","SpriteFrame","err","round","randomNumber","PauseNode_1","match","gainPoint","scoreNode","pauseNode","active","show","updateScore","stopAllCurrent","PauseNode","mainButton","mainTop","mainBotton","playVideo","replayFrame","onRestartClicked","onLookRankClicked","onBackHomeClicked","MainContext_1","PersistRoot","prefabs","clips","game","addPersistRootNode","loadPrefab","loadAudio","prefab","setPrefab","audio","AudioClip","AudioSource","PoolOverflowBehavior","BindingConstraintType","PoolInflationType","Stack_1","__IC_InstanceProvider","instancesAvailable","Stack","instancesInUse","constraint","POOL","uniqueValues","overflowBehavior","EXCEPTION","inflationType","DOUBLE","failIf","isProtetype","_instanceCount","addList","item","remove","removeInstance","removeList","retv","pop","instancesToCreate","instanceCount","WARNING","warn","INCREMENT","instanceProvider","newInstance","condition","PrefabManager","prefabMap","hasPrefab","getPrefab","PrefabPool","nodePool","NodePool","put","hasPrototypeList","constructor_1","types","__proto__","startsWith","AddPrototype","prototypeMap","Array","from","tpye","extendSet","subContextView","tipsUiNode","rankType","shareCount","updateShareMenu","withShareTicket","switchRank","event","switchBtn","switchBar","getChildByName","moveRange","moveBy","v2","hideShowTipsUi","ticket","showTipsUi","getShareInfo","backhome","shareApp","shareAppMessage","title","imageUrl","isExist","content","tipsUiView","display","CountDownView_1","isPlayVideo","revive","width_1","height_1","x_1","y_1","url_1","checkCacheExistFile","result","clearAllCurrent","saveScore","isResult","waitStartTime","waitDurTime","preMgr","countDown","mainNode","Signal_1","_signal_dic","symbol","_signal","Signal","__IC_Signal","_listener","_onceListener","action","concat","callback","addUnique","addOnceListener","removeAllListeners","listeners","isUnique","getTypes","clazz","classMap","getInstanceOrCreate","destroyInstance","Item","_next","_size","_header","top","newItem","tmp","lanuch","getCollisionManager","avatar","animals","foodArea","pause","TipsUiView","text","onClicked","RichText","areaMap","isGlobal","areaStatus","AreaStatus","globalAreaStatus","EventType","TOUCH_START","getTouches","touch","getLocationX","sPoxY","getLocationY","TouchStatus","No","totalX","totalY","trendX","trendY","touchMap","getID","TOUCH_MOVE","mDeltaX","getDelta","mDeltaY","abs","disposeTouchResult","TOUCH_END","TOUCH_CANCEL","touchMoveDetection","touchEvnet","isMoveValid","trend","tickcount","timecount","newNode","level","ratio","log","food","getPoolNode","foodComponent","func","bgmUrl","createInnerAudioContext","src","autoplay","w","h","overtime","isPlayFinish","video","createVideo","poster","objectFit","controls","onEnded","onerror","setTimeout","path","successCallback","failCallback","userPath","downloadFile","header","filePath","statusCode","getFileSystemManager","saveFile","tempFilePath","savedFilePath","errMsg","access","readFile","isAllowDownload","downFile","env","USER_DATA_PATH","sys","platform","WECHAT_GAME","errorLog"],"mappings":"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","sourcesContent":["const {ccclass,property} = cc._decorator;\r\n@ccclass\r\nexport class Shake extends cc.ActionInterval {\r\n    private _initial_x: number = 0;\r\n    private _initial_y: number = 0;\r\n    private _strength_x: number = 0;\r\n    private _strength_y: number = 0; /**     *       * @param {number} duration          * @param {number} strength_x    x     * @param {number} strength_y    y     * @returns {Shake}     */\r\n    public static create(duration: number, strength_x: number, strength_y: number): Shake {\r\n        let act: Shake = new Shake();\r\n        act.initWithDuration(duration, strength_x, strength_y);\r\n        return act;\r\n    }\r\n    public initWithDuration(duration: number, strength_x: number, strength_y: number): boolean {\r\n        cc.ActionInterval.prototype['initWithDuration'].apply(this, arguments);\r\n        this._strength_x = strength_x;\r\n        this._strength_y = strength_y;\r\n        return true;\r\n    }\r\n    public fgRangeRand(min: number, max: number): number {\r\n        let rnd: number = Math.random();\r\n        return rnd * (max - min) + min;\r\n    }\r\n    public update(time: number): void {\r\n        let randx = this.fgRangeRand(-this._strength_x, this._strength_x);\r\n        let randy = this.fgRangeRand(-this._strength_y, this._strength_y);\r\n        this.getTarget().setPosition(randx + this._initial_x, randy + this._initial_y);\r\n    }\r\n    public startWithTarget(target: cc.Node): void {\r\n        cc.ActionInterval.prototype['startWithTarget'].apply(this, arguments);\r\n        this._initial_x = target.x;\r\n        this._initial_y = target.y;\r\n    }\r\n    public stop(): void {\r\n        this.getTarget().setPosition(new cc.Vec2(this._initial_x, this._initial_y));\r\n        cc.ActionInterval.prototype['stop'].apply(this);\r\n    }\r\n}","import { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { IocView } from \"../../lib/extensions/IocView\";\r\n\r\nconst {ccclass,property} = cc._decorator\r\n\r\n@ccclass\r\nexport default class Animal extends IocView {\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n\r\n    @property\r\n    type = ''\r\n\r\n    onLoad() {\r\n        super.onLoad();\r\n    }\r\n    start(){\r\n        super.start();\r\n    }\r\n\r\n    //\r\n    rePositonAnimal(i) {\r\n        let {\r\n            width,\r\n            height\r\n        } = this.mMdl.animalTextureRect\r\n        let offsetRatio = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n        i === 0 && (offsetRatio = {\r\n            x: -1,\r\n            y: 1\r\n        })\r\n        i === 1 && (offsetRatio = {\r\n            x: 1,\r\n            y: 1\r\n        })\r\n        i === 2 && (offsetRatio = {\r\n            x: 1,\r\n            y: -1\r\n        })\r\n        i === 3 && (offsetRatio = {\r\n            x: -1,\r\n            y: -1\r\n        })\r\n        this.node.setPosition(offsetRatio.x * width / 2, offsetRatio.y * height / 2);\r\n    }\r\n\r\n}","import {Singleton} from \"./Singleton\";\r\nimport {IManager} from \"./Manager\";\r\n\r\nexport default class AudioManager extends Singleton implements IManager {\r\n    public isInit = false;\r\n    public bgm: cc.AudioSource;\r\n    public audios: Array < cc.AudioSource > ;\r\n    private audioMap: Map < any, any >\r\n    private playLoopCount;\r\n\r\n    protected onConstructor() {\r\n        this.playLoopCount = 0;\r\n        this.audioMap = new Map();\r\n    }\r\n\r\n    public play(key) {\r\n        if (this.hasAudio(key)) {\r\n            let clip = this.getAudio(key);\r\n            let isPlay = false;\r\n            if (this.audios.length != 0) {\r\n                if(this.audios[this.playLoopCount]){\r\n                    this.audios[this.playLoopCount].clip = clip;\r\n                    this.audios[this.playLoopCount].play();\r\n                }else{\r\n                    this.playLoopCount=0;\r\n                }\r\n                if(this.playLoopCount < this.audios.length - 1){\r\n                    this.playLoopCount+=1;\r\n                }else{\r\n                    this.playLoopCount=0;\r\n                }\r\n                //\r\n/*                 for(let i =0;i<this.audios.length;i++){\r\n                    if (!this.audios[i].isPlaying) {\r\n                        this.audios[i].clip = clip;\r\n                        this.audios[i].play();\r\n                        isPlay = true;\r\n                        break;\r\n                    }\r\n                } */\r\n                //\r\n/*                 if (!isPlay) {\r\n                    this.audios[0].clip = clip;\r\n                    this.audios[0].play();\r\n                } */\r\n            }\r\n        }\r\n    }\r\n    public playBgm() {\r\n        if (this.bgm.clip) {\r\n            this.bgm.loop = true;\r\n            this.bgm.play();\r\n        }\r\n    }\r\n    hasAudio(key): boolean {\r\n        return this.audioMap.has(key);\r\n    }\r\n    getAudio(key): cc.AudioClip {\r\n        return this.audioMap.get(key);\r\n    }\r\n    setAudio(key, value) {\r\n        this.audioMap.set(key, value);\r\n    }\r\n}","import { Singleton } from \"./Singleton\";\r\nimport { IUtil } from \"./Util\";\r\n\r\nexport class AudioUtil extends Singleton implements IUtil{\r\n\r\n}","import { Command } from \"../../lib/framework/Command/Command\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { IInjectBinder, __IC_InjectBinder } from \"../../lib/framework/Injector/InjectBinder\";\r\n\r\n//\r\nexport class BackHomeCommand extends Command{\r\n    @inject(__IC_InjectBinder)\r\n    inj: IInjectBinder;\r\n    \r\n    execute(){\r\n        //console.info(\"[]\");\r\n        this.gameOver();\r\n    }\r\n\r\n    gameOver() {\r\n        this.inj.unbindAllMark();\r\n        cc.director.loadScene('Begin')\r\n    }\r\n}","\nconst {ccclass, property} = cc._decorator\n\n@ccclass\nexport default class Begin extends cc.Component {\n\n/*     @property(cc.Node)\n    playButton = null */\n\n    onLoad () {\n        \n    }\n\n    beginGame() {\n        cc.director.loadScene('Game')\n    }\n\n    lookRank(){\n        cc.director.loadScene(\"Rank\");\n    }\n}","//namespace ioc{\r\n    export module BindingConst{\r\n        //\r\n        export const NULL = Symbol(\"NULL\");\r\n    }\r\n//}","import { IBinding,Binding } from \"./Binding\"\r\nimport {BindingConst} from \"./BindConst\"\r\nimport {IConstructorName} from \"../IocConst\"\r\n\r\nexport interface IBinder {\r\n    bind(key) : IBinding;\r\n    unbind(key, name);\r\n    //\r\n    getRawBinding() : IBinding;\r\n    //\r\n    getBinding(key : any, name : any) : IBinding;\r\n    getBindingMap(key : any) : Map<any,IBinding>;\r\n    resolveBinding( binding : IBinding,  key : any);\r\n}\r\nexport class __IC_Binder extends IConstructorName{\r\n    get constructorName(){return \"IBinder\";}\r\n}\r\nexport class Binder implements IBinder {\r\n    //\r\n    protected _bindings: any;\r\n    //\r\n    //protected _bindingWhitelist : Array<object> ;\r\n    constructor() {\r\n        this.init();\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    init(){\r\n        //\r\n        this._bindings = new Map < any, Map < any, IBinding >> ();\r\n    }\r\n    /**\r\n     * \r\n     * @param binding \r\n     */\r\n    resolver(binding: IBinding) {\r\n        let key = binding.key;\r\n        this.resolveBinding(binding,key);\r\n    }\r\n    /**\r\n     * \r\n     * @param binding \r\n     * @param key \r\n     */\r\n    resolveBinding( binding : IBinding,  key : any){\r\n        //\r\n        let bindingName = (binding.name == null) ? BindingConst.NULL : binding.name;\r\n        let dict : Map<any,IBinding>;\r\n        //\r\n        if ((this._bindings.has(key))) {\r\n            //\r\n            dict = this._bindings.get(key);\r\n            //\r\n            if (dict.has(bindingName)) {\r\n                //\r\n                let existingBinding = dict.get(bindingName);\r\n                //\r\n                if (existingBinding != binding) {\r\n                    //\r\n                    if (!existingBinding.value) {\r\n                        //\r\n                        dict.delete(bindingName);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            //\r\n            dict = new Map<any,IBinding>();\r\n            //\r\n            this._bindings.set(key, dict);\r\n        }\r\n\r\n        //\r\n        if (dict.has(BindingConst.NULL) && dict.get(BindingConst.NULL) === binding) {\r\n            //\r\n            dict.delete(BindingConst.NULL);\r\n        }\r\n\r\n        //\r\n        if (!dict.has(bindingName)) {\r\n            dict.set(bindingName, binding);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param key \r\n     */\r\n    bind(key) : IBinding{\r\n        //\r\n        let binding = this.getRawBinding();\r\n        \r\n        //\r\n        binding.bind(key);\r\n        return binding;\r\n    }\r\n    /**\r\n     * \r\n     * @param key \r\n     * @param name \r\n     */\r\n    unbind(key, name) {\r\n        let checkKey = Binding.checkAbstract(key);\r\n        //\r\n        if (this._bindings.has(checkKey)) {\r\n            //\r\n            let dict = this._bindings.get(checkKey);\r\n            //\r\n            let bindingName;\r\n            if(name){\r\n                bindingName = name;\r\n            }else{\r\n                bindingName = BindingConst.NULL;\r\n            }\r\n            if (dict.has(bindingName)) {\r\n                dict.delete(bindingName);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    getRawBinding(): IBinding{\r\n        return new Binding(this.resolver.bind(this));\r\n    }\r\n    /**\r\n     * \r\n     * @param key \r\n     * @param name \r\n     */\r\n    getBinding(key : any, name : any) : IBinding{\r\n        //\r\n        if(this._bindings.has (key))\r\n        {\r\n            let dict = this._bindings.get(key);\r\n            //\r\n            if(!name){\r\n                name = BindingConst.NULL\r\n            }\r\n            //\r\n            if (dict.has(name))\r\n            {\r\n                return dict.get(name);\r\n            }\r\n            else{\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param key \r\n     */\r\n    getBindingMap(key : any) : any{\r\n        if(this._bindings.has(key)){\r\n            return this._bindings.get(key);\r\n        }\r\n    }\r\n}\r\n//}","import { IConstructorName } from \"../IocConst\";\r\n\r\n//namespace ioc {\r\nexport interface IBinding {\r\n    name: any;\r\n    key: any;\r\n    value: any;\r\n    bind(k:any):IBinding;\r\n    to(v:any):IBinding;\r\n    toName(n:any):IBinding;\r\n}\r\nexport class __IC_Binding extends IConstructorName{\r\n    get constructorName(){return \"IBinding\";}\r\n}\r\nexport class Binding implements IBinding {\r\n    protected _key: any;\r\n    protected _value: any;\r\n    protected _name: any;\r\n    protected _resolver: any;\r\n\r\n    public get key() {\r\n        return this._key;\r\n    }\r\n    public get value() {\r\n        return this._value;\r\n    }\r\n    public get name() {\r\n        return this._name;\r\n    }\r\n\r\n    constructor(resolver: any) {\r\n        this._resolver = resolver;\r\n\r\n        this._key = null;\r\n        this._value = null;\r\n        this._name = null;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param key \r\n     */\r\n    bind(key) :IBinding{\r\n        this._key = Binding.checkAbstract(key);\r\n        return this;\r\n    }\r\n    /**\r\n     * \r\n     * @param value \r\n     */\r\n    to(value):IBinding {\r\n        this._value = value;\r\n        if (this._resolver != null)\r\n            this._resolver(this);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name \r\n     */\r\n    toName(name):IBinding {\r\n        this._name = name;\r\n        if (this._resolver != null)\r\n            this._resolver(this);\r\n        return this;\r\n    }\r\n    //\r\n    public get isKeyConstructor():boolean{\r\n        return Binding.isConstructor(this._key);\r\n    }\r\n    //\r\n    public get isValueConstructor():boolean{\r\n        return Binding.isConstructor(this._value);\r\n    }\r\n    public static isConstructor(value : object):boolean{\r\n        //\r\n        if(typeof value !== \"function\"){\r\n            return false;\r\n        }\r\n        //\r\n        if(!value.prototype){\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    public static checkAbstract(key){\r\n        //\r\n        let constructorName;\r\n        if(key.constructorName){\r\n            constructorName = key.constructorName;\r\n            //console.info(\"[]\"+ constructorName);\r\n        }else{\r\n            constructorName = key;\r\n            //console.info(\"[]\"+ constructorName.constructor.name);\r\n        }\r\n        return constructorName;\r\n    }\r\n}\r\n//}","import {\r\n    IBinding,\r\n    Binding\r\n} from \"../Bind/Binding\"\r\nimport {\r\n    __IC_InjectBinder,\r\n    IInjectBinder\r\n} from \"../Injector/InjectBinder\";\r\nimport {\r\n    CommandBinding\r\n} from \"./CommandBinding\";\r\nimport {\r\n    ISignal\r\n} from \"../Signal/Signal\"\r\nimport {\r\n    InjectBinding\r\n} from \"../Injector/InjectBinding\";\r\nimport {\r\n    ICommand,\r\n    __IC_Command\r\n} from \"./Command\";\r\nimport {\r\n    Pool\r\n} from \"../../Extensions/Pool\";\r\nimport {\r\n    CommandConst\r\n} from \"./CommandConst\"\r\nimport {\r\n    inject\r\n} from \"../Injector/InjectDecorator\";\r\nimport {\r\n    Binder\r\n} from \"../Bind/Binder\";\r\nimport {\r\n    ICommandBinder\r\n} from \"./ICommandBinder\";\r\n//\r\n\r\n\r\n/**\r\n * \r\n */\r\nexport class CommandBinder extends Binder implements ICommandBinder {\r\n    //\r\n    @inject(__IC_InjectBinder)\r\n    public injectBinder: IInjectBinder;\r\n\r\n    //\r\n    protected pools: Map < object, Pool >= new Map < object, Pool > ();\r\n\r\n    // Tracker for parallel commands in progress\r\n    protected activeCommands: Set < ICommand >= new Set < ICommand > ();\r\n    // Tracker for sequences in progress\r\n    protected activeSequences: Map < ICommand, CommandBinding > = new Map < ICommand, CommandBinding > ();\r\n    //\r\n    public usePooling: boolean = false;\r\n    public getPool(type: object): Pool {\r\n        if (this.pools.has(type))\r\n            return this.pools.get(type);\r\n        return null;\r\n    }\r\n\r\n    public resolver(binding: IBinding) {\r\n        super.resolver(binding);\r\n        if (this.usePooling && (binding as CommandBinding).isPooled) {\r\n            if (binding.value != null) {\r\n                let that = this;\r\n                //\r\n                let values: object[] = binding.value as object[];\r\n                if (values.length === 0) {\r\n                    values = [];\r\n                    values.push(binding.value);\r\n                }\r\n\r\n                if (values && values.length > 0) {\r\n                    values.forEach((value) => {\r\n                        //\r\n                        if (that.pools.has(value) == false) {\r\n                            let myPool = this.makePoolFromType(value);\r\n                            that.pools.set(value, myPool);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    protected makePoolFromType(type): Pool {\r\n        //\r\n        let poolType = type;\r\n        //\r\n        this.injectBinder.bind(type).to(type);\r\n\r\n        //\r\n        this.injectBinder.bind(Pool).to(Pool).toName(CommandConst.COMMAND_POOL);\r\n        let pool: Pool = this.injectBinder.getInstance(Pool, CommandConst.COMMAND_POOL) as Pool;\r\n        this.injectBinder.unbind(Pool, CommandConst.COMMAND_POOL);\r\n        pool.bind(poolType);\r\n\r\n        return pool;\r\n    }\r\n    //\r\n    getRawBinding(): IBinding {\r\n        return new CommandBinding(this.resolver.bind(this));\r\n    }\r\n    bind(key: any): CommandBinding {\r\n        return super.bind(key) as CommandBinding;\r\n    }\r\n    //\r\n    protected invokeCommand(cmd: object, binding: CommandBinding, args, depth: number): ICommand {\r\n        let command: ICommand = this.createCommand(cmd, args);\r\n        command.sequenceId = depth;\r\n        this.trackCommand(command, binding);\r\n        this.executeCommand(command,args);\r\n        return command;\r\n    }\r\n    //\r\n    protected createCommand(cmd: object, data: object): ICommand {\r\n        let command: ICommand = this.getCommand(cmd);\r\n\r\n        if (command == null) {\r\n            let msg: string = \"A Command \";\r\n            if (data != null) {\r\n                msg += \"tied to data \" + data.toString();\r\n            }\r\n            msg += \" could not be instantiated.\\nThis might be caused by a null pointer during instantiation or failing to override Execute (generally you shouldn't have constructor code in Commands).\";\r\n            throw new Error(msg);\r\n        }\r\n\r\n        command.data = data;\r\n        return command;\r\n    }\r\n    //\r\n    protected getCommand(type: object): ICommand {\r\n        //\r\n        if (this.usePooling && this.pools.has(type)) {\r\n            let pool: Pool = this.pools.get(type);\r\n            let command: ICommand = pool.getInstance() as ICommand;\r\n            //\r\n            if(command){\r\n                //\r\n                if (command.isClean) {\r\n                    this.injectBinder.injector.inject(command, null);\r\n                    command.deploy();\r\n                }\r\n            }else{\r\n                //\r\n                command = this.injectBinder.getInstance(type,null);\r\n                //\r\n                pool.add(command);\r\n            }\r\n            return command;\r\n        } else {\r\n            this.injectBinder.bind(__IC_Command).to(type);\r\n            let command: ICommand = this.injectBinder.getInstance(__IC_Command, null);\r\n            this.injectBinder.unbind(__IC_Command, null);\r\n            return command;\r\n        }\r\n    }\r\n    protected trackCommand(command: ICommand, binding: CommandBinding) {\r\n        if (binding.isSequence) {\r\n            this.activeSequences.set(command, binding);\r\n        } else {\r\n            this.activeCommands.add(command);\r\n        }\r\n    }\r\n    //\r\n    protected executeCommand(command: ICommand,args) {\r\n        if (command == null) {\r\n            return;\r\n        }\r\n        command.execute(...args);\r\n    }\r\n    /**\r\n     * \r\n     * @param trigger \r\n     * @param data \r\n     */\r\n    public onDispose(trigger: object , ...args) {\r\n        //\r\n        let binding: CommandBinding = this.getBinding(trigger, null) as CommandBinding;\r\n        if (binding != null) {\r\n            //\r\n            if (binding.isSequence) {\r\n                //\r\n                this.next(binding, args, 0,);\r\n            } else {\r\n                //\r\n                let values: object[] = binding.value as object[];\r\n                let aa = values.length + 1;\r\n                for (let a = 0; a < aa; a++) {\r\n                    this.next(binding, args , a,);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    //\r\n    protected next(binding: CommandBinding, args, depth: number) {\r\n        let values: object[] = binding.value as object[];\r\n        if (values.length === 0) {\r\n            values = [];\r\n            values.push(binding.value);\r\n        }\r\n\r\n        if (depth < values.length) {\r\n            let cmd = values[depth];\r\n            let command: ICommand = this.invokeCommand(cmd, binding, args, depth);\r\n            this.releaseCommand(command);\r\n        } else {\r\n            this.disposeOfSequencedData(args);\r\n            //\r\n            if (binding.isOnce) {\r\n                //\r\n                this.unbind(binding, null);\r\n            }\r\n        }\r\n    }\r\n    //EventCommandBinder (and perhaps other sub-classes) use this method to dispose of the data in sequenced commands\r\n    protected disposeOfSequencedData(data: object) {\r\n        //No-op. Override if necessary.\r\n    }\r\n    //\r\n    public releaseCommand(command: ICommand) {\r\n        //\r\n        if (!command.isRetain) {\r\n            //\r\n            let t = command.constructor;\r\n            if (this.usePooling && this.pools.has(t)) {\r\n                this.pools.get(t).returnInstance(command);\r\n            }\r\n            if (this.activeCommands.has(command)) {\r\n                this.activeCommands.delete(command);\r\n            } else if (this.activeSequences.has(command)) {\r\n                let binding: CommandBinding = this.activeSequences.get(command);\r\n                let data = command.data;\r\n                this.activeSequences.delete(command);\r\n                this.next(binding, data, command.sequenceId + 1);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport class SignalCommandBinder extends CommandBinder {\r\n    //\r\n    public usePooling : boolean = true;\r\n    //\r\n    resolveBinding(binding: IBinding, key: any) {\r\n        super.resolveBinding(binding, key);\r\n        //\r\n        if (this._bindings.has(key)) {\r\n            let signal: ISignal = key;\r\n            signal.addListener(this.onDispose.bind(this)); //Do normal bits, then assign the commandlistener to be reactTo\r\n        }\r\n    }\r\n    //\r\n    public bind(value: object): CommandBinding {\r\n        //\r\n        let binding: InjectBinding = this.injectBinder.getBinding(value, null);\r\n        let signal: ISignal = null;\r\n        //\r\n        if (Binding.isConstructor(value)) {\r\n            //\r\n            if (binding == null) {\r\n                binding = this.injectBinder.bind(value);\r\n                binding.toSingleton();\r\n            }\r\n            signal = this.injectBinder.getInstance(value, null) as ISignal;\r\n        }\r\n        //\r\n        if (signal) {\r\n            return super.bind(signal);\r\n        } else {\r\n            return super.bind(value);\r\n        }\r\n    }\r\n    //\r\n    public getBinding(key: any, name: any): CommandBinding {\r\n        let signal;\r\n        //\r\n        if (Binding.isConstructor(key)) {\r\n            //\r\n            signal = this.injectBinder.getInstance(key, name);\r\n        } else {\r\n            //\r\n            signal = key;\r\n        }\r\n        return super.getBinding(signal, name) as CommandBinding;\r\n    }\r\n    protected invokeCommand(cmd, binding: CommandBinding, args, depth: number): ICommand {\r\n        let signal: ISignal = binding.key;\r\n        let command: ICommand = this.createCommandForSignal(cmd, args); //Special signal-only command creation\r\n        command.sequenceId = depth;\r\n        this.trackCommand(command, binding);\r\n        this.executeCommand(command,args);\r\n        return command;\r\n    }\r\n    // Create a Command and bind its injectable parameters to the Signal types\r\n    protected createCommandForSignal(cmd, args): ICommand {\r\n        let that = this;\r\n\r\n        if (args != null) {\r\n\r\n            let signalData: [] = args as[];\r\n\r\n            //Iterate each signal type, in order. \r\n            //Iterate values and find a match\r\n            //If we cannot find a match, throw an error\r\n            let injectedTypes = new Set < any > ();\r\n            let values = [signalData];\r\n\r\n            /* if(signalTypes&&signalTypes.length>0){\r\n            signalTypes.forEach((type)=>{\r\n                if (!injectedTypes.has(type)) // Do not allow more than one injection of the same Type\r\n                {\r\n                    let foundValue : boolean= false;\r\n                    for(let i = 0;i<values.length;i++){\r\n                        if (values[i] != null)\r\n                        {\r\n                            that.injectBinder.bind(type).toValue(values[i]).toInject(false);\r\n                            injectedTypes.add(type);\r\n                            //values[i]=null;\r\n                            foundValue = true;\r\n                            break;\r\n                        }\r\n                        else //Do not allow null injections\r\n                        {\r\n                            throw new Error(\"SignalCommandBinder attempted to bind a null value from a signal to Command: \" + cmd.GetType() + \" to type: \" + type);\r\n                        }\r\n                    }\r\n                    if (!foundValue)\r\n                    {\r\n                        throw new Error(\"Could not find an unused injectable value to inject in to Command: \" + cmd.GetType() + \" for Type: \" + type);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    throw new Error(\"SignalCommandBinder: You have attempted to map more than one value of type: \" + type +\r\n                        \" in Command: \" + cmd.GetType() + \". Only the first value of a type will be injected. You may want to place your values in a VO, instead.\");\r\n                }\r\n            })\r\n            }*/\r\n        }\r\n        let command: ICommand = that.getCommand(cmd);\r\n        command.data = args;\r\n/*         if (signalTypes && signalTypes.length > 0) {\r\n            signalTypes.forEach((typeToRemove) => {\r\n                that.injectBinder.unbind(typeToRemove, null);\r\n            })\r\n        } */\r\n        return command;\r\n    }\r\n}","import { Binding } from \"../Bind/Binding\";\r\n\r\nexport class CommandBinding extends Binding{\r\n    //\r\n    protected _isSequence : boolean;\r\n    //\r\n    protected _isOnce : boolean;\r\n    //\r\n    public isPooled : boolean\r\n    \r\n    public get isSequence() : boolean{\r\n        return this._isSequence\r\n    }\r\n    public get isOnce() : boolean{\r\n        return this._isOnce;\r\n    }\r\n    public to(value) : CommandBinding{\r\n        return super.to(value) as CommandBinding\r\n    }\r\n    public toName(name) : CommandBinding{\r\n        return super.toName(name) as CommandBinding;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    public Pooled()\r\n    {\r\n        this.isPooled = true;\r\n        this._resolver (this);\r\n        return this;\r\n    }\r\n}","//\r\nexport enum CommandConst\r\n{\r\n    /// Temporary marker for any pool instantiated by the CommandBinder\r\n    COMMAND_POOL = \"COMMAND_POOL\",\r\n}","import { ICommandBinder, __IC_CommandBinder } from \"./ICommandBinder\";\r\nimport { __IC_InjectBinder, IInjectBinder } from \"../Injector/InjectBinder\";\r\nimport { inject } from \"../Injector/InjectDecorator\";\r\nimport { IConstructorName } from \"../IocConst\";\r\n\r\nexport interface ICommand{\r\n    commandBinder : ICommandBinder;\r\n    injectBinder : IInjectBinder;\r\n    //\r\n    execute(...args);\r\n    //ID\r\n    sequenceId : number;\r\n    data : any;\r\n    args : any;\r\n    deploy();\r\n    clean();\r\n    isClean : boolean;\r\n    isRetain : boolean;\r\n    //\r\n    retain();\r\n    //\r\n    release();\r\n}\r\nexport class __IC_Command extends IConstructorName{\r\n    get constructorName(){return \"ICommand\";}\r\n}\r\nexport class Command implements ICommand{\r\n    // The InjectionBinder for this Context\r\n\t@inject(__IC_InjectBinder)\r\n    public injectBinder : IInjectBinder;\r\n    // Back reference to the CommandBinder that instantiated this Commmand\r\n\t@inject(__IC_CommandBinder)\r\n\tpublic  commandBinder : ICommandBinder;\r\n    public sequenceId;\r\n    public data;\r\n    public args;\r\n    private _clean = false;\r\n    public deploy(){\r\n        this._clean = false;\r\n    }\r\n    public clean(){\r\n        this._clean = true;\r\n    }\r\n    public get isClean(){\r\n        return this._clean;\r\n    };\r\n    private _retain = false;\r\n    //\r\n    public retain()\r\n    {\r\n        this._retain = true;\r\n    }\r\n    public release()\r\n    {\r\n        this._retain = false\r\n    }\r\n    public get isRetain() : boolean{\r\n        return this._retain;\r\n    }\r\n    //\r\n    public restore()\r\n    {\r\n        this.injectBinder.injector.uninject (this);\r\n        this.clean();\r\n    }\r\n    //\r\n    public execute(...args){\r\n\r\n    }\r\n}","import PersistRoot from \"./PersistRoot\";\r\n\r\n//\r\n export default class  Common{\r\n    static viedo\r\n    static viedoHandle;\r\n    static WxGameApi = null;\r\n    static version = \"v1.6.0\";\r\n    static isInit : boolean = false;\r\n    static persistRootNode : PersistRoot= null;\r\n    static root = null;\r\n    static shareTickets = [];\r\n    static isHasWxRank = false;\r\n    static maxScore = 0;\r\n    //\r\n    static userOpenId = 0;\r\n    //\r\n    static session_key = \"\";\r\n    //\r\n    static unionId = 0;\r\n}","import {IRoot} from \"./IRoot\"\r\nimport {__IC_InjectBinder,InjectBinder} from \"../Injector/InjectBinder\";\r\nimport {CommandBinder , SignalCommandBinder } from \"../Command/CommandBinder\";\r\nimport {IocError, IConstructorName} from \"../IocConst\"\r\nimport { __IC_CommandBinder } from \"../Command/ICommandBinder\";\r\n\r\nexport interface IContext {\r\n    start(): IContext;\r\n    restart() : IContext;\r\n    //\r\n    launch();\r\n    /// Get the ContextView\r\n    getRoot(): any;\r\n    // Register a new context to this one\r\n    addCrossContext(context : IContext):IContext;\r\n    removeCrossContext(context : IContext);\r\n    //\r\n    crossContextBinder : InjectBinder;\r\n}\r\nexport class __IC_Context extends IConstructorName{\r\n    get constructorName(){return \"IContext\";}\r\n}\r\n\r\nexport class Context implements IContext {\r\n    //\r\n    public static firstContext : IContext;\r\n    //\r\n    private _injectBinder : InjectBinder;\r\n    private _crossContextBinder : InjectBinder;\r\n    //\r\n    public get injectBinder(): InjectBinder {\r\n        if(!this._injectBinder){\r\n            this._injectBinder = new InjectBinder();\r\n        }\r\n        return this._injectBinder; \r\n    }\r\n    //\r\n    public set crossContextBinder(value){\r\n        this._crossContextBinder = value;\r\n    }\r\n    //\r\n    public get crossContextBinder(){\r\n        return this._crossContextBinder;\r\n    }\r\n    private _commandBinder : CommandBinder;\r\n    //\r\n    public get commandBinder(): CommandBinder {\r\n/*         //\r\n        if(!this._commandBinder){\r\n            this._commandBinder = new CommandBinder();\r\n        } */\r\n        return this._commandBinder; \r\n    }\r\n    //\r\n    root: IRoot;\r\n    //\r\n    getRoot() {\r\n        return this.root;\r\n    }\r\n\r\n    constructor(root: any) {\r\n        if (Context.firstContext == null || Context.firstContext.getRoot() == null){\r\n            Context.firstContext = this;\r\n            this.crossContextBinder = this.injectBinder;\r\n\t\t}else{\r\n\t\t\tContext.firstContext.addCrossContext(this);\r\n        }\r\n        //\r\n        this.setRoot(root);\r\n        //\r\n        this.addCore();\r\n        //\r\n        this.start();\r\n    }\r\n    //\r\n    public addCrossContext(context : IContext):IContext{\r\n        //\r\n        context.crossContextBinder= this.injectBinder;\r\n\t\treturn this;\r\n    }\r\n    //\r\n    public removeCrossContext(childContext: IContext)\r\n    {\r\n/*         if (childContext.crossContextBinder != null)\r\n        {\r\n            childContext.crossContextBinder = null;\r\n        } */\r\n    }\r\n\r\n    public setRoot(root: any): IContext {\r\n        this.root = root;\r\n        return this;\r\n    }\r\n    public restart() : IContext{\r\n        this.addCore();\r\n        this.start();\r\n        //console.info(\"[Ioc]\");\r\n        return this;\r\n    }\r\n    public start(): IContext {\r\n        this.instantiateCore();\r\n        this.mapBindings();\r\n        this.postBindings();\r\n        this.launch();\r\n\r\n        return this;\r\n    }\r\n    //\r\n    public launch() {\r\n        //console.info(\"Ioc\");\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    protected instantiateCore() {\r\n        //\r\n        this._commandBinder = this.injectBinder.getInstance(__IC_CommandBinder,null);\r\n    }\r\n    protected mapBindings() {\r\n\r\n    }\r\n    protected postBindings() {\r\n\r\n    }\r\n    protected addCore() {\r\n        //\r\n        this.injectBinder.bind(__IC_InjectBinder).toValue(this.injectBinder);\r\n        //\r\n        this.injectBinder.bind(__IC_CommandBinder).to(SignalCommandBinder).toSingleton();\r\n    }\r\n\r\n}\r\n//}","import { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { Shake } from \"../../lib/extensions/ActionExtension\";\r\n\r\nconst {ccclass,property} = cc._decorator\r\n\r\n@ccclass\r\nexport default class CountDownView extends cc.Component {\r\n    @property(Number)\r\n    private value : number = 3;\r\n    @property(Number)\r\n    private time: number = 3;\r\n    @property(Boolean)\r\n    private isAutoPlay : boolean = false;\r\n\r\n    //\r\n    private step : number;\r\n    //\r\n    private stepDur : number;\r\n    private completeList;\r\n    private isPlay;\r\n    private alpha;\r\n    private isIn;\r\n    private label;\r\n\r\n    onLoad() {\r\n        //super.onLoad();\r\n        this.label = this.node.getComponent(cc.Label);\r\n        this.isPlay = false;\r\n        this.completeList = [];\r\n    }\r\n    start(){\r\n        //super.start();\r\n        if(this.isAutoPlay)this.play();\r\n    }\r\n    /**\r\n     * \r\n     * @param start  \r\n     * @param duration \r\n     */\r\n    config(start,duration){\r\n        this.time = duration;\r\n        this.value = start;\r\n\r\n        return this;\r\n    }\r\n    //\r\n    play(){\r\n        this.isPlay = true;\r\n        //0\r\n        if(this.value ===0||this.time===0){\r\n            this.step = 0;\r\n        }\r\n        else{\r\n            this.step = this.value / this.time;\r\n            this.stepDur = this.time/this.value;\r\n        } \r\n\r\n        return this;\r\n    }\r\n    onComplete(complete){\r\n        this.completeList.push(complete);\r\n        return this;\r\n    }\r\n    update(dt){\r\n        if(!this.isPlay)return;\r\n\r\n        if(this.value>=0&&this.step>0){\r\n            let before = Math.floor(this.value);\r\n            this.value -= dt * this.step;\r\n            this.time -= dt;\r\n            let after = Math.floor(this.value);\r\n            //\r\n            if(before !== after){\r\n                this.node.stopAllActions();\r\n                this.node.scale = 0.5;\r\n                this.node.opacity = 0;\r\n\r\n                let scaleActions = [cc.scaleBy(0.35*this.stepDur,5),cc.scaleBy(1*this.stepDur,0.125)];\r\n                let fadeActions = [cc.fadeIn(0.35*this.stepDur),cc.fadeOut(1*this.stepDur)];\r\n\r\n                //\r\n                if(after>=1){\r\n                    this.label.string = \"\"+after;\r\n                }else{\r\n                    this.node.runAction(Shake.create(1*this.stepDur,20,20));\r\n                    this.label.string = \"Go~!\";\r\n                }\r\n                this.node.runAction(cc.sequence(scaleActions));\r\n                this.node.runAction(cc.sequence(fadeActions));\r\n            }\r\n        }else{\r\n            this.isPlay = false;\r\n            //\r\n            this.completeList.forEach(complete => {\r\n                complete();\r\n            });\r\n            this.node.destroy();\r\n        }\r\n    }\r\n}","import {Binder} from \"../Bind/Binder\";\r\nimport {BindingConst} from \"../Bind/BindConst\";\r\nimport {DecoratorClass} from \"./DecoratorClass\";\r\nimport {DecoratorClassBinding} from \"./DecoratorClassBinding\";\r\nimport {IBinding, Binding} from \"../Bind/Binding\";\r\nimport { Prototype } from \"../../Extensions/Prototype\";\r\n\r\nexport class DecoratorClassBinder extends Binder {\r\n    //Map< , Map<  Map<  , >>>\r\n    protected _bindings: Map < any, Map < any, Map < any, DecoratorClassBinding >>> ;\r\n    private _decoratorClassBufferMap : Map<any,DecoratorClass>;\r\n\r\n    //\r\n    init() {\r\n        //\r\n        this._bindings = new Map < any, Map < any, Map < any, DecoratorClassBinding >>> ();\r\n        //\r\n        this._decoratorClassBufferMap = new Map<any,DecoratorClass>();\r\n    }\r\n    //\r\n    public has(key):boolean{\r\n        return this._bindings.has(key);\r\n    }\r\n    //\r\n    public get(target: any): DecoratorClass {\r\n        //\r\n        if (!(target instanceof Object)) throw new Error(\"proto must is a object but\" + target + \"is not\");\r\n        //\r\n        if(!this._decoratorClassBufferMap.has(target)){\r\n            //\r\n            let extendsList = Prototype.getPrototypeList(target);\r\n\r\n            let injectClass: DecoratorClass = new DecoratorClass();\r\n            let list = [];\r\n            let dict: Map < any, Map < any, DecoratorClassBinding >> ;\r\n            let that = this;\r\n            let bindingMaps = [];\r\n            if (extendsList && extendsList.length > 0) {\r\n                for(let i = 0 ; i<extendsList.length ; i++){\r\n                    dict = that.getBindingMap(extendsList[i]);\r\n                    if(dict&&dict.size>0){\r\n                        dict.forEach(function(inside) {\r\n                            bindingMaps.push(inside);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            let inside : Map<any,DecoratorClassBinding>;\r\n            if (bindingMaps && bindingMaps.length > 0) {\r\n                for(let i = 0; i <bindingMaps.length;i++){\r\n                    inside = bindingMaps[i];\r\n                    if(inside&&inside.size>0){\r\n                        let values = inside.values();\r\n                        for (let j =0;j<inside.size;j++) {\r\n                            let binding = values.next();\r\n                            list.push(binding.value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            injectClass.list = list;\r\n            //\r\n            this._decoratorClassBufferMap.set(target,injectClass);\r\n        }\r\n        //\r\n        return this._decoratorClassBufferMap.get(target);\r\n    }\r\n    //\r\n    public bind(key: any): DecoratorClassBinding {\r\n        return super.bind(key) as DecoratorClassBinding;\r\n    }\r\n    //\r\n    public getBinding(key, name): DecoratorClassBinding {\r\n        return super.getBinding(key, name) as DecoratorClassBinding\r\n    }\r\n    //\r\n    public getRawBinding(): IBinding {\r\n        return new DecoratorClassBinding(this.resolver.bind(this));\r\n    }\r\n    //\r\n    public resolver(binding: IBinding) {\r\n        super.resolver(binding);\r\n    }\r\n    /**\r\n     * \r\n     * @param binding \r\n     * @param key \r\n     */\r\n    resolveBinding(binding: DecoratorClassBinding, key: any) {\r\n        //\r\n        if (!binding.property) return;\r\n        //\r\n        let bindingName = (binding.name == null) ? BindingConst.NULL : binding.name;\r\n        let dict: Map < any, Map < any, DecoratorClassBinding >> ;\r\n        //\r\n        if ((this._bindings.has(key))) {\r\n            //\r\n            dict = this._bindings.get(key);\r\n            //\r\n            if (dict.has(bindingName)) {\r\n                //\r\n                let insideDict = dict.get(bindingName);\r\n                //\r\n                if (insideDict.has(binding.property)) {\r\n                    let existingBinding = insideDict.get(binding.property);\r\n                    //\r\n                    if (existingBinding) {\r\n                        //\r\n                        if (existingBinding != binding) {\r\n                            //\r\n                            if (!existingBinding.value) {\r\n                                //\r\n                                dict.delete(bindingName);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            //Map< , Map< ,  >\r\n            dict = new Map < any, Map < any, DecoratorClassBinding >> ();\r\n            //\r\n            this._bindings.set(key, dict);\r\n        }\r\n\r\n        //\r\n        if (dict.has(BindingConst.NULL)) {\r\n            let insideDic = dict.get(BindingConst.NULL);\r\n            if (insideDic.has(binding.property)) {\r\n                let existingBinding = insideDic.get(binding.property);\r\n                if (binding.property === binding) {\r\n                    //\r\n                    insideDic.delete(BindingConst.NULL);\r\n                }\r\n            }\r\n\r\n        }\r\n        let insideDict;\r\n        //\r\n        if (!dict.has(bindingName)) {\r\n            //\r\n            insideDict = new Map < any, DecoratorClassBinding > ();\r\n            //\r\n            insideDict.set(binding.property, binding);\r\n            //\r\n            dict.set(bindingName, insideDict);\r\n        } else {\r\n            //\r\n            insideDict = dict.get(bindingName);\r\n            //\r\n            if (!insideDict.has(binding.property)) {\r\n                //\r\n                insideDict.set(binding.property, binding)\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param key \r\n     */\r\n    getBindingMap(key: any): Map < any, Map < any, DecoratorClassBinding >> {\r\n        if (this._bindings.has(key)) {\r\n            return this._bindings.get(key);\r\n        }\r\n    }\r\n}","import { Binding } from \"../Bind/Binding\";\r\n\r\nexport class DecoratorClassBinding extends Binding{\r\n    protected _property: any;\r\n    public get property(){\r\n        return this._property;\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * @param property \r\n     */\r\n    toProperty(property : any):DecoratorClassBinding {\r\n        this._property = property;\r\n        if (this._resolver != null)\r\n            this._resolver(this);\r\n        return this;\r\n    }\r\n    //\r\n    to(value : any):DecoratorClassBinding{\r\n        return super.to(value) as DecoratorClassBinding;\r\n    }\r\n    //\r\n    toName(name : any) : DecoratorClassBinding{\r\n        return super.toName(name) as DecoratorClassBinding;\r\n    }\r\n}","import { DecoratorClassBinding } from \"./DecoratorClassBinding\";\r\n/**\r\n * \r\n */\r\nexport class DecoratorClass{\r\n    //\r\n    private _list : DecoratorClassBinding[];\r\n    public get list(){\r\n        return this._list;\r\n    }\r\n    public set list(value : DecoratorClassBinding[]){\r\n        this._list = value;\r\n    }\r\n}","import { DecoratorClassBinder } from \"./DecoratorClassBinder\";\r\nexport module DecoratorConst {\r\n    /**\r\n     * \r\n     * \r\n     */\r\n    export const DECORATOR_CLASS_BINDER = new DecoratorClassBinder();\r\n}","import { inject } from '../../lib/framework/Injector/InjectDecorator';\r\nimport { MainModel} from '../Model/MainModel';\r\nimport Animal from './Animal';\r\nimport { MainUtil } from '../util/MainUtil';\r\nimport { IocView } from '../../lib/extensions/IocView';\r\nimport { GameSignalEnum, MainSignalEnum } from '../signal/MainSignalEnum';\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { __IC_Util, UtilType } from '../util/Util';\r\nimport { __IC_Manager, ManagerType } from '../util/Manager';\r\nimport AudioManager from '../util/AudioManager';\r\n\r\nconst {ccclass, property} = cc._decorator\r\n\r\n@ccclass\r\nexport default class Food extends IocView {\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n    @inject(__IC_Util,UtilType.Main)\r\n    mUtl : MainUtil;\r\n    @inject(__IC_Manager,ManagerType.Audio)\r\n    aMgr : AudioManager;\r\n\r\n    inited;\r\n    foodData;\r\n\r\n\tpublic speed = 0;\r\n    public accel = 0;\r\n    \r\n    private moveY = 0\r\n    type = ''\r\n\r\n    onLoad() {super.onLoad();}\r\n    start(){super.start();}\r\n    reuse() {}\r\n    unuse() {}\r\n    public clear(){\r\n        this.speed = 175;\r\n        this.accel = 125;\r\n        this.moveY = 0;\r\n        this.node.x = 0;\r\n        this.node.y = 0;\r\n    }\r\n    update(dt) {\r\n        //\r\n        if(this.mMdl.isHide)return;\r\n    \tif (!this.inited) return\r\n    \tthis.speed += this.accel * dt\r\n    \tthis.moveY = this.speed * dt\r\n        this.node.y -= this.moveY\r\n    }\r\n\r\n    onCollisionEnter(other, self) {\r\n        if (!this.inited) return;\r\n        let otherComponent = other.getComponent(Animal);\r\n        if(!otherComponent){\r\n            otherComponent = other.getComponent(Food);\r\n            //\r\n            if(otherComponent) return;\r\n        }\r\n        let selfComponent = self.getComponent(Food);\r\n        if (otherComponent && selfComponent && otherComponent.type === selfComponent.type) {\r\n            //this.mMdl.onMatch()\r\n            this.sMgr.get(MainSignalEnum.Match).dispatch(GameSignalEnum.onMatch,this.node);\r\n            this.resPoolNode(this.node);\r\n        } else {\r\n            //this.mMdl.onNotMatch()\r\n            this.sMgr.get(MainSignalEnum.Match).dispatch(GameSignalEnum.onNotMatch);\r\n        }\r\n        this.inited = false;\r\n    }\r\n    //\r\n    resPoolNode(foodNode) {\r\n        let index = this.mMdl.currentFoodNodes.indexOf(foodNode)\r\n        if (index !== -1) {\r\n            this.mMdl.currentFoodNodes.splice(index, 1)\r\n        }\r\n        return this.mMdl.foodPool.res(foodNode)\r\n    }\r\n    //\r\n    randomProps() {\r\n        this.inited = false\r\n        let track = this.mUtl.randomCoin()\r\n        //\r\n        if (this.mMdl.lastFoodIndex === -1) this.mMdl.lastFoodIndex = track\r\n        if (this.mMdl.lastTrack === -1) this.mMdl.lastTrack = track\r\n        let baseIndex\r\n        //\r\n        if (track === this.mMdl.lastTrack) {\r\n            //\r\n            baseIndex = this.mMdl.lastFoodIndex\r\n        } else {\r\n            //\r\n            baseIndex = track ? this.mMdl.lastFoodIndex + 1 : this.mMdl.lastFoodIndex - 1\r\n        }\r\n        //\r\n        let randomRange = [baseIndex - 1, baseIndex + 1].map(i => {\r\n            if (i < 0) i = this.mMdl.foodDatas.length + i\r\n            if (i >= this.mMdl.foodDatas.length) i = i - this.mMdl.foodDatas.length\r\n            return i\r\n        })\r\n        let foodIndex = this.mUtl.randomValue(...randomRange)\r\n        this.mMdl.lastFoodIndex = foodIndex\r\n        this.mMdl.lastTrack = track\r\n        this.foodData = this.mMdl.foodDatas[foodIndex]\r\n        let foodNode = this.node\r\n        this.type = this.foodData.type\r\n        foodNode.getComponent(cc.Sprite).spriteFrame = this.foodData.spriteFrame ;\r\n        let x = (track ? 1 : -1) * (this.mMdl.animalTextureRect.width / 2);\r\n        foodNode.setPosition(x , this.mUtl.getSceneSize().height/2);\r\n        this.inited = true\r\n    }\r\n}\r\n\r\n\r\n\r\n","import {\r\n    Command\r\n} from \"../../lib/framework/Command/Command\";\r\nimport {\r\n    inject\r\n} from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport {\r\n    MainModel\r\n} from \"../Model/MainModel\";\r\nimport {\r\n    MainUtil\r\n} from \"../util/MainUtil\";\r\nimport Animal from \"../view/Animal\";\r\nimport {\r\n    __IC_Model,\r\n    ModelType\r\n} from \"../util/Model\";\r\nimport PrefabPool from \"../helper/PrefabPool\";\r\nimport {\r\n    TouchUtil,\r\n    TouchDirection,\r\n    TouchStatus\r\n} from \"../util/TouchUtil\";\r\nimport {\r\n    __IC_Util,\r\n    UtilType\r\n} from \"../util/Util\";\r\n\r\n/**\r\n * \r\n * \r\n */\r\nexport class GenerateCommand extends Command {\r\n    @inject(__IC_Model, ModelType.Main)\r\n    mMdl: MainModel;\r\n    @inject(__IC_Util, UtilType.Main)\r\n    mUtl: MainUtil;\r\n    @inject(__IC_Util, UtilType.Touch)\r\n    tUtl: TouchUtil;\r\n    @inject(cc.Node, \"Scene\")\r\n    sceneNode: cc.Node;\r\n    @inject(cc.Node, \"Animals\")\r\n    animalsNode: cc.Node;\r\n    @inject(cc.Prefab, \"Animal\")\r\n    animalPrefab: cc.Prefab;\r\n    @inject(cc.Prefab, \"Food\")\r\n    foodPrefab: cc.Prefab;\r\n\r\n\r\n    execute(complete) {\r\n        //console.log(\"[]\");\r\n        //\r\n        this.init().then(() => {\r\n            this.generateTouchArea();\r\n            this.generateAnimals();\r\n            complete();\r\n        })\r\n    }\r\n    //\r\n    generateTouchArea() {\r\n        let area = new cc.Node(\"TouchArea\");\r\n        this.sceneNode.addChild(area);\r\n        area.width = this.mUtl.getSceneSize().width;\r\n        area.height = this.mUtl.getSceneSize().height;\r\n        this.tUtl.registerTouchArea(area, true);\r\n    }\r\n    init(): Promise < {} > {\r\n        this.mMdl.currentFoodNodes = [];\r\n        this.mMdl.foodPool = new PrefabPool('Food', this.foodPrefab)\r\n        let p1 = this.loadFoodRes();\r\n        let p2 = this.loadAnimalRes();\r\n        return Promise.all([p1, p2]);\r\n    }\r\n    private loadFoodRes() {\r\n        let that = this;\r\n        return new Promise((resolve, reject) => {\r\n            //\r\n            let results = Promise.all(that.mMdl.foodDatas.map((foodData) =>{\r\n                return that.mUtl.spriteRes(foodData.image)\r\n            }));\r\n            results.then((spriteFrames)=>{\r\n                spriteFrames.forEach((spriteFrame, i) => {\r\n                    that.mMdl.foodDatas[i].spriteFrame = spriteFrame;\r\n                });\r\n                //\r\n                resolve();\r\n            })\r\n        });\r\n    }\r\n    private loadAnimalRes() {\r\n        let that = this;\r\n        return new Promise((resolve, reject) => {\r\n            //\r\n            let results = Promise.all(that.mMdl.animalDatas.map((animalData) =>{\r\n                            return that.mUtl.spriteRes(animalData.image)\r\n                        }));\r\n            results.then((spriteFrames) => {\r\n                if (spriteFrames) {\r\n                    spriteFrames.forEach((spriteFrame, i) => {\r\n                        that.mMdl.animalDatas[i].spriteFrame = spriteFrame;\r\n                    });\r\n                }\r\n                //\r\n                resolve();\r\n            })\r\n        })\r\n    }\r\n    private generateAnimals(){\r\n        let that = this;\r\n        this.mMdl.animalDatas.forEach((animalData, i) => {\r\n            let animalNode = cc.instantiate(that.animalPrefab);\r\n            let animal = animalNode.getComponent(Animal);\r\n            let sprite = animalNode.getComponent(cc.Sprite);\r\n            //\r\n            that.animalsNode.addChild(animalNode);\r\n            sprite.spriteFrame = animalData.spriteFrame;\r\n            animal.type = animalData.type;\r\n            animal.rePositonAnimal(i);\r\n        })\r\n    }\r\n}","import { CommandBinding } from \"./CommandBinding\";\r\nimport { IBinding } from \"../Bind/Binding\";\r\nimport { Binder } from \"../Bind/Binder\";\r\nimport { IConstructorName } from \"../IocConst\";\r\n\r\nexport interface ICommandBinder{\r\n    bind (key : any) : CommandBinding;\r\n    getRawBinding():IBinding;\r\n}\r\nexport class __IC_CommandBinder extends IConstructorName{\r\n    static get constructorName(){return \"ICommandBinder\";}\r\n}","//namespace ioc{\r\nimport { IContext } from \"./Context\"\r\nimport { IConstructorName } from \"../IocConst\";\r\nexport class __IC_Root extends IConstructorName{\r\n    get constructorName(){return \"IRoot\";}\r\n}\r\nexport interface IRoot {\r\n    context: IContext;\r\n}\r\n//}","import {Binder, IBinder} from \"../Bind/Binder\"\r\nimport {IBinding, Binding} from \"../Bind/Binding\"\r\nimport {BindingConst} from \"../Bind/BindConst\"\r\nimport { Injector } from \"./Injector\";\r\nimport { InjectBinding } from \"./InjectBinding\";\r\nimport {DecoratorConst} from \"../Decorator/DecoratorConst\"\r\nimport {IocError, IConstructorName} from \"../IocConst\"\r\nimport { __IC_Model } from \"../../../project/util/Model\";\r\nimport { MainModel } from \"../../../project/Model/MainModel\";\r\n//\r\nconst ClassBinder = DecoratorConst.DECORATOR_CLASS_BINDER;\r\n\r\nexport interface IInjectBinder extends IBinder{\r\n    injector:Injector;\r\n    getInstance(key,name) : any;\r\n    getBinding(key, name) : InjectBinding;\r\n    bind(key:any):InjectBinding;\r\n    /**\r\n     * \r\n     */\r\n    unbindAllMark();\r\n} \r\nexport class __IC_InjectBinder extends IConstructorName{\r\n    get constructorName(){return \"IInjectBinder\";}\r\n}\r\nexport class InjectBinder extends Binder implements IInjectBinder {\r\n    //\r\n    private _injector:Injector;\r\n    constructor(){\r\n        super();\r\n        this._injector = new Injector ();\r\n        this._injector.binder = this;\r\n        this._injector.injectClassBinder = ClassBinder;\r\n    }\r\n    public get injector() : Injector{\r\n        return this._injector;\r\n    }\r\n    //\r\n    public getInstance(key,name) : any\r\n    {\r\n        //\r\n        if(!name)name = BindingConst.NULL;\r\n        //\r\n        let binding : InjectBinding = this.getBinding (Binding.checkAbstract(key), name) as InjectBinding;\r\n        //\r\n        if (binding == null){throw new Error(\"InjectionBinder has no binding for:\\n\\tkey: \" + key + \"\\nname: \" + name);}\r\n        //\r\n        //console.info(\"[]\"+binding.key);\r\n        let instance = this._injector.instantiate(binding,false);\r\n        //console.info(\"[]\"+Binding.checkAbstract(binding.key));\r\n        this._injector.tryInject(binding,instance);\r\n        return instance;\r\n    }\r\n    //\r\n    public getBinding(key, name) : InjectBinding{\r\n        return super.getBinding(key,name) as InjectBinding\r\n    }\r\n    //\r\n    public bind(key:any):InjectBinding{\r\n        return super.bind(key) as InjectBinding;\r\n    }\r\n    public getRawBinding() : IBinding{\r\n        return new InjectBinding(this.resolver.bind(this));\r\n    }\r\n    public unbindAllMark(){\r\n        let that = this;\r\n        let unbinds = [];\r\n        (this._bindings as Map < any, Map < any, InjectBinding >>).forEach(dict => {\r\n            dict.forEach(binding=>{\r\n                if(binding.isUnbind){\r\n                    unbinds.push(binding);\r\n                }\r\n            })\r\n        });\r\n        //\r\n        unbinds.forEach(binding=>{\r\n            that.unbind(binding.key,binding.name);\r\n        })\r\n    }\r\n}","import { Binding } from \"../Bind/Binding\";\r\nimport {InjectConst} from \"./InjectConst\";\r\n\r\nexport class InjectBinding extends Binding{\r\n    protected _isUnbind : boolean = false;\r\n    //\r\n    protected _bindingType: InjectConst.BindingType = InjectConst.BindingType.DEFAULT;\r\n    //\r\n    protected _isInject: boolean = true;\r\n    //\r\n    protected _args: any;\r\n/*     //\r\n    protected _isKeyConstructor = false;\r\n    //\r\n    protected _isValueConstructor = false; */\r\n\r\n/*     public get isKeyConstructor(){\r\n        return this._isKeyConstructor;\r\n    }\r\n    public get isValueConstructor(){\r\n        return this._isValueConstructor;\r\n    } */\r\n    public get isInject(){\r\n        return this._isInject;\r\n    }\r\n    //\r\n    public get args() {\r\n        return this._args;\r\n    }\r\n    public get bindingType(){\r\n        return this._bindingType;\r\n    }\r\n    public get isUnbind(){\r\n        return this._isUnbind;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    public toArgs(){\r\n        this._args = arguments;\r\n        if (this._resolver != null){\r\n            this._resolver(this);\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n\tpublic toSingleton(): InjectBinding\r\n\t{\r\n\t\t//, \r\n\t\tif (this._bindingType === InjectConst.BindingType.VALUE){\r\n            return this;\r\n        }\r\n        //\r\n        this._bindingType = InjectConst.BindingType.SINGLETON;\r\n\t\tif (this._resolver != null){\r\n\t\t\tthis._resolver (this);\r\n\t\t}\r\n\t\treturn this;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    public unBind(): InjectBinding{\r\n        this._isUnbind = true;\r\n        return this;\r\n    }\r\n    public toValue(value : any) : InjectBinding{\r\n        this._bindingType = InjectConst.BindingType.VALUE;\r\n        this.setValue(value);\r\n        return this;\r\n    }\r\n    public setValue(o : any) : InjectBinding\r\n    {\r\n        this.to(o);\r\n        return this;\r\n    }\r\n    public toInject( value : boolean) : InjectBinding\r\n    {\r\n        this._isInject = value;\r\n        return this;\r\n    }\r\n    //\r\n    public to(value : any) : InjectBinding{\r\n        return super.to(value) as InjectBinding;\r\n    }\r\n    public toName(name : any) : InjectBinding{\r\n        return super.toName(name) as InjectBinding;\r\n    }\r\n}","export module InjectConst {\r\n    //\r\n    export const enum BindingType\r\n    {\r\n        /// \r\n        DEFAULT = \"Default\",\r\n    \r\n        /// \r\n        SINGLETON = \"Singleton\",\r\n    \r\n        /// \r\n        VALUE = \"Value\",\r\n    }\r\n}","import {DecoratorConst} from \"../Decorator/DecoratorConst\"\r\nimport { Binding } from \"../Bind/Binding\";\r\n//\r\nconst ClassBinder = DecoratorConst.DECORATOR_CLASS_BINDER;\r\n/**\r\n * \r\n * TSJSTS\r\n * \r\n * name\r\n *  __IC_ \r\n * @see __IC_IConstructorName\r\n * @example\r\n * class{\r\n *  @inject(constructor)\r\n *  anyclass:T;\r\n * }\r\n */\r\nexport function inject < T > (str: string): Function;\r\n/**\r\n * \r\n * @param c \r\n */\r\nexport function inject < T > (c: new() => T): Function;\r\n/**\r\n * \r\n * @param name \r\n */\r\nexport function inject < T > (c: new() => T, name: any): Function;\r\nexport function inject < T > (str:string, name: any): Function;\r\n/**\r\n * \r\n */\r\n//export function inject<T>(_target: Object, _key: any, _desc ? : any) : void;\r\n\r\n//\r\nexport function inject < T > (): any {\r\n    switch (arguments.length) {\r\n        case 0:\r\n            break;\r\n        case 1:\r\n            return injectNoNameFunc < T > (arguments[0]);\r\n            break;\r\n        case 2:\r\n            return injectToNameFunc < T > (arguments[0], arguments[1])\r\n            break;\r\n        case 3:\r\n            break;\r\n    }\r\n}\r\n/**\r\n * \r\n * @param _constructor T\r\n */\r\nconst injectNoNameFunc = < T > (_constructor: new() => T | string) => {\r\n    return function (_target: any, _property: string) {\r\n        injectFunc(_target,_constructor,_property);\r\n    }\r\n}\r\n/**\r\n * \r\n * @param _constructor T\r\n */\r\nconst injectToNameFunc = < T > (_constructor: new() => T | string, _name: any) => {\r\n    return function (_target: any, _property: string) {\r\n        injectFunc(_target,_constructor,_property,_name);\r\n    }\r\n\r\n}\r\n/**\r\n * \r\n * @param _target \r\n * @param _constructor \r\n * @param _property \r\n * @param _name \r\n */\r\nfunction injectFunc(_target,_constructor,_property,_name?){\r\n    //IConstructorName\r\n    //\r\n    ClassBinder.bind(_target.constructor).to(Binding.checkAbstract(_constructor)).toProperty(_property).toName(_name);\r\n}","import { InjectBinding } from \"./InjectBinding\";\r\nimport {InjectConst} from \"./InjectConst\";\r\nimport { Binding } from \"../Bind/Binding\";\r\n/**\r\n * \r\n * \r\n */\r\nexport class InjectFactory{\r\n    /**\r\n     * \r\n     * @param binding \r\n     * @param args \r\n     */\r\n    public get(binding:InjectBinding,args : any[]):object{\r\n        //\r\n        if (binding == null){\r\n\t\t\tthrow new Error (\"InjectorFactory cannot act on null binding\");\r\n        }\r\n        //\r\n        let bindingType : InjectConst.BindingType = binding.bindingType;\r\n        //\r\n        switch (bindingType)\r\n        {\r\n            case InjectConst.BindingType.SINGLETON:\r\n                return this.singletonOf (binding, args);\r\n                break;\r\n            case InjectConst.BindingType.VALUE:\r\n                return this.valueOf (binding);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return this.instanceOf (binding, args);\r\n    }\r\n    // \r\n\tprotected instanceOf( binding : InjectBinding, args : any[]) : any\r\n\t{\r\n\t\tif (binding.value != null)\r\n\t\t{\r\n\t\t\treturn this.createFromValue(binding.value, args);\r\n\t\t}\r\n\t\tlet value : any = this.generateImplicit(binding.key, args);\r\n\t\treturn this.createFromValue(value, args);\r\n    }\r\n    // Call the Activator to attempt instantiation the given object\r\n\tprotected createFromValue(c : new(...args)=> any, args : any[]) : any\r\n\t{\r\n\t\tlet instance = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif (args == null || args.length == 0)\r\n\t\t\t{\r\n\t\t\t\tinstance = new c();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tinstance = new c(args);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch\r\n\t\t{\r\n\t\t\t//No-op\r\n        }\r\n        //if(instance)console.info(\"[]\"+instance.constructor.name);\r\n\t\treturn instance;\r\n    }\r\n    protected generateImplicit(key : any, args:any[]):any\r\n    {\r\n        //\r\n        if(!key)return null;\r\n        //\r\n        if (Binding.isConstructor(key))\r\n        {\r\n            return this.createFromValue(key, args);\r\n        }\r\n        throw new Error (\"InjectorFactory can't instantiate an Interface or Abstract Class. Class: \" + key.ToString());\r\n    }\r\n    // Generate a Singleton instance\r\n\tprotected singletonOf(binding : InjectBinding, args : any[])\r\n\t{\r\n\t\tif (binding.value != null)\r\n\t\t{\r\n            let o = this.createFromValue (binding.value, args);\r\n            if (o == null)\r\n                return null;\r\n            binding.setValue(o);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tbinding.setValue(this.generateImplicit(binding.key, args));\r\n\t\t}\r\n\t\treturn binding.value;\r\n    }\r\n    protected valueOf(binding : InjectBinding)\r\n    {\r\n        return binding.value;\r\n    }\r\n}","import { InjectFactory } from \"./InjectFactory\"\r\nimport { InjectBinder } from \"./InjectBinder\";\r\nimport { InjectBinding } from \"./InjectBinding\";\r\nimport { InjectConst} from \"./InjectConst\";\r\nimport { DecoratorClass } from \"../Decorator/DecoratorClass\";\r\nimport { DecoratorClassBinder } from \"../Decorator/DecoratorClassBinder\";\r\nimport { Binding } from \"../Bind/Binding\";\r\n\r\nexport class Injector{\r\n    public factory : InjectFactory;\r\n    public binder : InjectBinder;\r\n    public injectClassBinder : DecoratorClassBinder;\r\n\r\n    constructor(){\r\n        this.factory = new InjectFactory();\r\n    }\r\n    public uninject(target)\r\n    {\r\n        if(!this.binder||!target)throw new Error(\"Attempt to inject into Injector without a Binder or null instance\");\r\n        //\r\n        let type : any = typeof target;\r\n        if (type === \"string\" || type === \"boolean\"||type === \"number\" ||type === \"symbol\"||type === \"undefined\" || type === \"function\")\r\n        {\r\n            return target;\r\n        }\r\n        //\r\n        let injectClass : DecoratorClass = this.injectClassBinder.get(target);\r\n        this.decoratorUnInject (target, injectClass);\r\n    }\r\n    private decoratorUnInject(target : any, injectClass : DecoratorClass){\r\n        let that = this;\r\n        //\r\n        injectClass.list.forEach((binding)=>{\r\n            //\r\n            let injectBinding = that.binder.getBinding(binding.value,binding.name);\r\n            //\r\n            if(injectBinding){\r\n                //\r\n                target[binding.property] = null;\r\n            }\r\n        })\r\n    }\r\n    //\r\n    public instantiate(binding : InjectBinding,tryInjectHere : boolean) : object{\r\n        //\r\n        if(!this.binder||!this.factory)throw new Error(\"Attempt to instantiate from Injector without a Binder or inject into Injector without a Factory\");\r\n        //\r\n        let constructor = null;\r\n        //\r\n        let instance : object = null;\r\n        //\r\n        if (binding.isValueConstructor){\r\n            //\r\n            constructor = binding.value;\r\n        }else{\r\n            //\r\n            instance = binding.value;\r\n        }\r\n        //\r\n        if(!constructor&&binding.isKeyConstructor){\r\n            //\r\n            constructor = binding.key;\r\n        }\r\n        //\r\n        if(!instance && constructor){\r\n            //\r\n            let args = binding.args;\r\n            instance = this.factory.get(binding, args);\r\n            //\r\n            if (tryInjectHere)\r\n            {\r\n                this.tryInject(binding, instance);\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n    public tryInject(binding : InjectBinding, target : any)\r\n    {\r\n        //\r\n        if (target != null)\r\n        {\r\n            if (binding.isInject)\r\n            {\r\n                target = this.inject(target, false);\r\n            }\r\n\r\n            if (binding.bindingType == InjectConst.BindingType.SINGLETON || binding.bindingType == InjectConst.BindingType.VALUE)\r\n            {\r\n                //prevent double-injection\r\n                binding.toInject(false);\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    //@Inject\r\n    public inject(target : object, attemptConstructorInjection : boolean) : any\r\n    {\r\n        if(!this.binder||!target)throw new Error(\"Attempt to inject into Injector without a Binder or null instance\");\r\n        //\r\n        let type : any = typeof target;\r\n        if (type === \"string\" || type === \"boolean\"||type === \"number\" ||type === \"symbol\"||type === \"undefined\" || type === \"function\")\r\n        {\r\n            return target;\r\n        }\r\n        //TS\r\n        //let typeName : string = target.constructor;\r\n        //\r\n        let injectClass : DecoratorClass = this.injectClassBinder.get(target);\r\n        //\r\n        if (attemptConstructorInjection)\r\n        {\r\n            //target = performConstructorInject(target, reflection);\r\n        }\r\n        this.decoratorInject(target,injectClass);\r\n        //performSetterInject(target, reflection);\r\n        //postInject(target, reflection);\r\n        return target;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    private decoratorInject(target : any, injectClass : DecoratorClass){\r\n        let that = this;\r\n        //\r\n        injectClass.list.forEach((binding)=>{\r\n            //console.info(\"[]\"+binding.value + \"[]\"+binding.name);\r\n            //\r\n            let injectBinding = that.binder.getBinding(binding.value,binding.name);\r\n            //\r\n            if(injectBinding){\r\n                let instance = that.getInjectValue(injectBinding.key,injectBinding.name);\r\n                //\r\n                target[binding.property] = instance;\r\n            }\r\n        })\r\n    }\r\n    /**\r\n     * \r\n     * @see \r\n     */\r\n    private getInjectValue(type,name):object{\r\n        //\r\n        let binding = this.binder.getBinding(type,name);\r\n        if(!binding)return null;\r\n        //if(binding.key.name)console.info(\"[]\"+binding.key.name+\"[]\"+name+\"[]\"+binding.bindingType + \",\"+binding.isInject);\r\n        //else console.info(\"[]\"+binding.key+\"[]\"+name+\"[]\"+binding.bindingType + \"[]\"+binding.isInject);\r\n        //\r\n        if(binding.bindingType === InjectConst.BindingType.VALUE){\r\n            //\r\n            if(binding.isInject){\r\n                //if(Binding.isConstructor(binding.value))console.info(\"[())]\"+binding.value.constructor.name + \"[]\");\r\n                //else console.info(\"[()]\"+binding.value.__proto__.constructor + \"[]\");\r\n\r\n                let injv = this.inject (binding.value, false);\r\n                binding.toInject (false);\r\n\r\n                //if(binding.key.name)console.info(\"[]\"+binding.key.name+\"[]\"+binding.isInject);\r\n                //else console.info(\"[]\"+binding.key+\"[]\"+binding.isInject);\r\n\r\n                return injv;\r\n            }else{\r\n                return binding.value;\r\n            }\r\n        //\r\n        }else if (binding.bindingType == InjectConst.BindingType.SINGLETON){\r\n            //\r\n            if (binding.isValueConstructor || binding.value == null)\r\n            {\r\n                this.instantiate (binding, true);\r\n            }\r\n            return binding.value;\r\n        }else{\r\n            return this.instantiate(binding,true);\r\n        }\r\n    }\r\n    /*     //\r\n    private performConstructorInject(){\r\n\r\n    } */\r\n    /* //\r\n    performSetterInject(){\r\n\r\n    } */\r\n    /*     //\r\n    postInject(){\r\n\r\n    } */\r\n}","import { Command } from \"../../lib/framework/Command/Command\";\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport Animal from \"../view/Animal\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { TouchUtil, TouchDirection, TouchStatus } from \"../util/TouchUtil\";\r\nimport { InputModel } from \"../Model/InputModel\";\r\nimport { __IC_Util, UtilType } from \"../util/Util\";\r\nimport { __IC_Manager, ManagerType } from \"../util/Manager\";\r\nimport AudioManager from \"../util/AudioManager\";\r\n\r\n/**\r\n * \r\n */\r\nexport class InputControlCommand extends Command{\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n    @inject(__IC_Model,ModelType.Input)\r\n    iMdl : InputModel;\r\n    @inject(cc.Node,\"Animals\")\r\n    animalsNode : cc.Node;\r\n    @inject(__IC_Util,UtilType.Touch)\r\n    tUtl : TouchUtil;\r\n    @inject(__IC_Manager,ManagerType.Audio)\r\n    aMgr : AudioManager;\r\n\r\n    execute(){\r\n        let that = this;\r\n        //\r\n        this.tUtl.on(TouchDirection.Up,(status:TouchStatus)=>{\r\n            if(status.sPosX>=0){\r\n                that.areaOnMove(TouchDirection.Up);\r\n            }else{\r\n                that.areaOnMove(TouchDirection.Down);\r\n            }\r\n        });\r\n        this.tUtl.on(TouchDirection.Down,(status:TouchStatus)=>{\r\n            if(status.sPosX>=0){\r\n                that.areaOnMove(TouchDirection.Up);\r\n            }else{\r\n                that.areaOnMove(TouchDirection.Down);\r\n            }\r\n        });\r\n        this.tUtl.on(TouchDirection.Left,(status:TouchStatus)=>{\r\n            if(status.sPosY>=0){\r\n                that.areaOnMove(TouchDirection.Left);\r\n            }else{\r\n                that.areaOnMove(TouchDirection.Right);\r\n            }\r\n        });\r\n        this.tUtl.on(TouchDirection.Right,(status:TouchStatus)=>{\r\n            if(status.sPosY>=0){\r\n                that.areaOnMove(TouchDirection.Left);\r\n            }else{\r\n                that.areaOnMove(TouchDirection.Right);\r\n            }\r\n        });\r\n    }\r\n\r\n    areaOnMove(direction : TouchDirection) {\r\n        //\r\n        if (this.mMdl.pauseFlag) return\r\n        if (direction === TouchDirection.Left || direction === TouchDirection.Right) {\r\n            this.rotateAnimals(0)\r\n        } else if (direction === TouchDirection.Up || direction === TouchDirection.Down) {\r\n            this.rotateAnimals(1)\r\n        }\r\n    }\r\n    //\r\n    rotateAnimals(direction) {\r\n        //\r\n        if (this.mMdl.isRotationing) {\r\n            this.iMdl.waitingHandle = this.rotateAnimals(direction);\r\n            return;\r\n        }\r\n        //\r\n        this.aMgr.play(\"Jump\");\r\n        let that = this;\r\n        this.mMdl.isRotationing = true\r\n        const [x, y] = direction ? [1, -1] : [-1, 1]\r\n        const rotateAction = cc.scaleBy(this.mMdl.rotateDur, x, y)\r\n        this.iMdl.lastAction = this.animalsNode.runAction(cc.sequence(rotateAction, cc.callFunc(() => {\r\n            that.resetAnimalsNode(direction);\r\n            if(that.animalsNode.children&&this.animalsNode.children.length>0){\r\n                //\r\n                that.animalsNode.children.forEach((animalNode, i) => animalNode.getComponent(Animal).rePositonAnimal(i))\r\n            }\r\n            that.mMdl.isRotationing = false;\r\n            //\r\n            if(this.iMdl.waitingHandle){\r\n                this.iMdl.waitingHandle();\r\n            }\r\n        })));\r\n    }\r\n\r\n    resetAnimalsNode(direction) {\r\n        const animalsNodeChildren = this.animalsNode.children;\r\n        if (!direction) {\r\n            this.switchIndex(animalsNodeChildren, 0, 1)\r\n            this.switchIndex(animalsNodeChildren, 3, 2)\r\n        } else {\r\n            this.switchIndex(animalsNodeChildren, 0, 3)\r\n            this.switchIndex(animalsNodeChildren, 1, 2)\r\n        }\r\n        this.animalsNode.setScale(1, 1)\r\n    }\r\n\r\n    switchIndex(list, one, two) {\r\n        const temp = list[two]\r\n        list[two] = list[one]\r\n        list[one] = temp\r\n    }\r\n}","import { Singleton } from \"../util/Singleton\";\r\nimport { IModel } from \"../util/Model\";\r\n\r\nexport class InputModel extends Singleton implements IModel{\r\n    //\r\n    public waitingHandle;\r\n    public lastAction : cc.Action;\r\n\r\n    onConstructor(){\r\n        this.lastAction = null;\r\n        this.waitingHandle = null;\r\n    }\r\n}","import {Context, IContext} from \"../framework/Context/Context\"\r\nimport {IocRoot} from \"./IocRoot\"\r\nconst {ccclass} = cc._decorator\r\n@ccclass\r\nexport class IocComponet extends cc.Component{\r\n\tpublic registeredWithContext : boolean;\r\n\tprivate _requiresContext : boolean= true;\r\n\tpublic get requiresContext() : boolean\r\n\t{\r\n\t\treturn this._requiresContext;\r\n\t}\r\n\tpublic set requiresContext(value){\r\n\t\tthis._requiresContext = value;\r\n\t}\r\n\tprotected _registerWithContext : boolean = true;\r\n\tpublic get autoRegisterWithContext()\r\n\t{\r\n\t\treturn this._registerWithContext; \r\n\t}\r\n\tpublic set autoRegisterWithContext(value){\r\n\t\tthis._registerWithContext = value;\r\n\t}\r\n\tpublic get shouldRegister() :boolean { return this.enabled && this.node.activeInHierarchy; }\r\n\r\n\t//\r\n    onLoad(){\r\n\t\tif (this.autoRegisterWithContext && !this.registeredWithContext && this.shouldRegister)\r\n\t\t\tthis.bubbleToContext(this,BubbleType.Add, false);\r\n\t}\r\n\t//\r\n\tstart(){\r\n\t\tif (this.autoRegisterWithContext && !this.registeredWithContext && this.shouldRegister)\r\n\t\t\tthis.bubbleToContext(this, BubbleType.Add, true);\r\n\t}\r\n\r\n    protected bubbleToContext(view : cc.Component,type: BubbleType,finalTry:boolean)\r\n\t{\r\n\t\t\tconst LOOP_MAX : number= 100;\r\n\t\t\tlet loopLimiter : number= 0;\r\n\t\t\tlet node = view.node;\r\n\t\t\twhile (node.parent != null && loopLimiter < LOOP_MAX)\r\n\t\t\t{\r\n\t\t\t\tloopLimiter++;\r\n\t\t\t\tnode = node.parent;\r\n\t\t\t\tif (node.getComponent(IocRoot) != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet iocContext : IocRoot = node.getComponent(IocRoot) as IocRoot;\r\n\t\t\t\t\tif (iocContext.context != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet context : IContext= iocContext.context;\r\n\t\t\t\t\t\tlet success : boolean= true;\r\n\r\n\t\t\t\t\t\tswitch (type)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcase BubbleType.Add:\r\n\t\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t\tcontext.crossContextBinder.injector.inject(this,true);\r\n\t\t\t\t\t\t\t\t//context.addView(view);\r\n\t\t\t\t\t\t\t\tthis.registeredWithContext = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase BubbleType.Remove:\r\n\t\t\t\t\t\t\t\t//context.removeView(view);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase BubbleType.Enable:\r\n\t\t\t\t\t\t\t\t//context.enableView(view);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase BubbleType.Disable:\r\n\t\t\t\t\t\t\t\t//context.disableView(view);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (success)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.requiresContext && finalTry && type == BubbleType.Add)\r\n\t\t\t{\r\n\t\t\t\t//last ditch. If there's a Context anywhere, we'll use it!\r\n\t\t\t\tif (Context.firstContext != null)\r\n\t\t\t\t{\r\n\t\t\t\t\t//Context.firstContext.addView(view);\r\n\t\t\t\t\tthis.registeredWithContext = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet msg : string;\r\n\t\t\t\tif(loopLimiter == LOOP_MAX){\r\n\t\t\t\t\tmsg = \"A view couldn't find a context. Loop limit reached.\"\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tmsg = \"A view was added with no context. Views must be added into the hierarchy of their ContextView lest all hell break loose.\";\r\n\t\t\t\t\tmsg += \"\\nView: \" + view.toString();\r\n\t\t\t\t}\r\n\t\t\t\tthrow new Error(msg);\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\nexport enum BubbleType\r\n{\r\n\tAdd,\r\n\tRemove,\r\n\tEnable,\r\n\tDisable\r\n}","export module IocError{\r\n    export const IC_ERROR = \"can't implement class that is only as interface\";\r\n}\r\nexport abstract class IConstructorName{\r\n    abstract get constructorName() : string;\r\n}","import {Context, IContext} from \"../framework/Context/Context\"\r\n\r\nconst {ccclass, property} = cc._decorator\r\n@ccclass\r\nexport class IocRoot extends cc.Component{\r\n    public context : IContext;\r\n\r\n    public requiresContext : boolean;\r\n\r\n    public registeredWithContext : boolean;\r\n\r\n    public autoRegisterWithContext : boolean;\r\n\r\n    public get shouldRegister() {return true;}\r\n\r\n    onDestroy(){\r\n        if (this.context != null && Context.firstContext != null)\r\n            Context.firstContext.removeCrossContext(this.context);\r\n    }\r\n}","import { IocComponet } from \"./IocComponet\";\r\nimport { inject } from \"../framework/Injector/InjectDecorator\";\r\nimport { __IC_SignalManager, ISignalManager } from \"../framework/Signal/SignalManager\";\r\n\r\nconst {ccclass} = cc._decorator\r\n@ccclass\r\nexport class IocView extends IocComponet{\r\n    @inject(__IC_SignalManager)\r\n    sMgr : ISignalManager;\r\n\r\n    onLoad(){\r\n        super.onLoad();\r\n    }\r\n    \r\n    start(){\r\n        super.start();\r\n    }\r\n\r\n}","import { IocComponet } from \"../../lib/extensions/IocComponet\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { __IC_SignalManager, ISignalManager } from \"../../lib/framework/Signal/SignalManager\";\r\nimport { MainSignalEnum } from \"../signal/MainSignalEnum\";\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport { __IC_InjectBinder, IInjectBinder } from \"../../lib/framework/Injector/InjectBinder\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { IocView } from \"../../lib/extensions/IocView\";\r\n\r\nconst {ccclass,property} = cc._decorator\r\n\r\n@ccclass\r\nexport default class LogicNode extends IocView {\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n    @inject(__IC_InjectBinder)\r\n    inj: IInjectBinder;\r\n\r\n    onLoad(){\r\n        super.onLoad();\r\n        //\r\n        this.inj.bind(cc.Node).toName(\"LogicNode\").toValue(this.node).unBind();\r\n    }\r\n    start(){\r\n        super.start();\r\n    }\r\n    update(dt){\r\n        if(this.sMgr && !this.mMdl.pauseFlag){\r\n            this.sMgr.get(MainSignalEnum.Update).dispatch(dt);\r\n        }\r\n    }\r\n}","import Common from \"../../common\";\r\nimport WxGameApi from \"../WxGameApi\";\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    onLoad() {\r\n        //JSTS\r\n        Common.WxGameApi = WxGameApi;\r\n        if (!WxGameApi.isRunInWeiXin) return;\r\n        let videoName = \"video.mp4\";\r\n        let bgmName = \"bgm.mp3\";\r\n        let videoUrl = \"https://636f-common-510ecc-1257233686.tcb.qcloud.la/default_video.mp4\";\r\n        let bgmUrl = \"https://636f-common-510ecc-1257233686.tcb.qcloud.la/bgm.mp3\";\r\n        let getCachePromise = (url,name,complete) => {\r\n            return new Promise((resolve, reject) => {\r\n                WxGameApi.getOrCacheResFile(url, name, (resPath) => {\r\n                    complete(resPath);\r\n                    //\r\n                    resolve();\r\n                });\r\n            })\r\n        }\r\n        //BGM\r\n        let p1 = getCachePromise(bgmUrl,bgmName,(resPath)=>{\r\n            WxGameApi.playBGM(resPath);\r\n        });\r\n        //\r\n        let p2 = getCachePromise(videoUrl,videoName,(resPath)=>{\r\n            Common.viedo = resPath;\r\n        });\r\n        //\r\n        let time = new Date().getSeconds();\r\n        let results = Promise.all([p1,p2]);\r\n        //\r\n        results.then(()=>{\r\n            let diff = new Date().getSeconds() - time;\r\n            console.info(\"[]\" + diff + \"[]\");\r\n        });\r\n\r\n        console.info(\"[]\");\r\n        wx.login({\r\n            success(res) {\r\n                console.info(\"[]\" + res);\r\n            },\r\n            fail(res) {\r\n                console.info(\"[]\" + res);\r\n            }\r\n        });\r\n        //\r\n        this.launchOptionsSync();\r\n        this.preloadFriendInfo();\r\n        this.preloadGroupInfo();\r\n    },\r\n    preloadFriendInfo() {\r\n        if (WxGameApi.isRunInWeiXin) {\r\n            //console.info(\"[]\" + this.subContextView.width + \",\" + this.subContextView.height);\r\n            wx.getOpenDataContext().postMessage({\r\n                message: {\r\n                    type: \"command\",\r\n                    function: \"preload\",\r\n                    arguments: \"friend\",\r\n                    data: \"\",\r\n                }\r\n            });\r\n        }\r\n    },\r\n    preloadGroupInfo() {\r\n        if (!Common.shareTickets || Common.shareTickets.length === 0) return;\r\n        wx.getOpenDataContext().postMessage({\r\n            message: {\r\n                type: \"command\",\r\n                function: \"preload\",\r\n                arguments: \"group\",\r\n                data: Common.shareTickets[0],\r\n            }\r\n        });\r\n    },\r\n    launchOptionsSync() {\r\n        if (!Common.shareTickets) Common.shareTickets = [];\r\n        let info = wx.getLaunchOptionsSync();\r\n        console.info(\"[]\" + info);\r\n        switch (info.scene) {\r\n            case 1044:\r\n                if (info.shareTicket) {\r\n                    Common.shareTickets.push(info.shareTicket);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n});","import { Command } from \"../../lib/framework/Command/Command\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { IInjectBinder, __IC_InjectBinder } from \"../../lib/framework/Injector/InjectBinder\";\r\n\r\n//\r\nexport class LookRankCommand extends Command{\r\n    @inject(__IC_InjectBinder)\r\n    inj: IInjectBinder;\r\n\r\n    execute(){\r\n        //console.info(\"[]\");\r\n        this.lookRank();\r\n    }\r\n\r\n    lookRank(){\r\n        this.inj.unbindAllMark();\r\n        //let a = Common.persistRootNode;\r\n        cc.director.loadScene('Rank')\r\n    }\r\n}","import {StartCommand} from \"../command/StartCommand\"\r\nimport { __IC_SignalManager, ISignalManager } from \"../../Lib/Framework/Signal/SignalManager\";\r\nimport {IContext,Context} from \"../../Lib/Framework/Context/Context\"\r\nimport { MainSignalManager } from \"../signal/MainSignalManager\"\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport { UpdateCommand } from \"../command/UpdateCommand\";\r\nimport { GenerateCommand } from \"../command/GenerateCommand\";\r\nimport { MainSignalEnum } from \"../signal/MainSignalEnum\";\r\nimport { MainUtil } from \"../util/MainUtil\";\r\nimport { RestartCommand } from \"../command/RestartCommand\";\r\nimport { LookRankCommand } from \"../command/LookRankCommand\";\r\nimport { MatchCommand } from \"../command/MatchCommand\";\r\nimport PrefabManager from \"../util/PrefabManager\";\r\nimport { ManagerType, __IC_Manager } from \"../util/Manager\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { TouchUtil } from \"../util/TouchUtil\";\r\nimport { InputControlCommand } from \"../command/InputControlCommand\";\r\nimport { InputModel } from \"../Model/InputModel\";\r\nimport { __IC_Util, UtilType } from \"../util/Util\";\r\nimport { AudioUtil } from \"../util/AudioUtil\";\r\nimport AudioManager from \"../util/AudioManager\";\r\nimport { BackHomeCommand } from \"../command/BackHomeCommand\";\r\n\r\nexport class MainContext extends Context{\r\n    constructor(root: any){\r\n        super(root);\r\n    }\r\n    //\r\n    addCore(){\r\n        super.addCore();\r\n        //\r\n        this.injectBinder.bind(__IC_SignalManager).to(MainSignalManager).toSingleton();\r\n        //\r\n        this.injectBinder.bind(__IC_Model).toValue(MainModel.Instance).toName(ModelType.Main);\r\n        this.injectBinder.bind(__IC_Model).toValue(InputModel.Instance).toName(ModelType.Input);\r\n        //\r\n        this.injectBinder.bind(__IC_Util).toValue(MainUtil.Instance).toName(UtilType.Main);\r\n        this.injectBinder.bind(__IC_Util).toValue(TouchUtil.Instance).toName(UtilType.Touch);\r\n        this.injectBinder.bind(__IC_Util).toValue(AudioUtil.Instance).toName(UtilType.Audio);\r\n\r\n        //\r\n        this.injectBinder.bind(__IC_Manager).toValue(PrefabManager.Instance).toName(ManagerType.Prefab);\r\n        this.injectBinder.bind(__IC_Manager).toValue(AudioManager.Instance).toName(ManagerType.Audio);\r\n\r\n        //console.info(\"\");\r\n    }\r\n    //\r\n    mapBindings(){\r\n        super.mapBindings();\r\n        //console.info(\"\");\r\n        let signalMgr : ISignalManager= this.injectBinder.getInstance(__IC_SignalManager,null);\r\n\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.Start)).to(StartCommand);\r\n        //,\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.Update)).to(UpdateCommand).Pooled();\r\n        //\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.Generate)).to(GenerateCommand);\r\n\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.Restart)).to(RestartCommand);\r\n\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.LookRank)).to(LookRankCommand);\r\n\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.Match)).to(MatchCommand);\r\n\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.InputControl)).to(InputControlCommand);\r\n\r\n        this.commandBinder.bind(signalMgr.get(MainSignalEnum.BackHome)).to(BackHomeCommand);\r\n\r\n    }\r\n    start() : IContext{\r\n        super.start();\r\n        //console.info(\"[]\");\r\n        return this;\r\n    } \r\n}\r\n","import {Singleton} from \"../util/Singleton\";\r\nimport {IModel} from \"../util/Model\";\r\nimport PrefabPool from \"../helper/PrefabPool\";\r\n\r\n/**\r\n * \r\n */\r\nexport class MainModel extends Singleton implements IModel {\r\n    //\r\n    public foodPool: PrefabPool = null;\r\n    //\r\n    public currentFoodNodes = [];\r\n    //\r\n    public lastFoodIndex = 0;\r\n    //\r\n    public lastTrack = 0;\r\n\r\n    public animalDatas = [{\r\n        image: 'animals/bird',\r\n        type: '0',\r\n        spriteFrame: null,\r\n    }, {\r\n        image: 'animals/bear',\r\n        type: '1',\r\n        spriteFrame: null\r\n    }, {\r\n        image: 'animals/rabbit',\r\n        type: '2',\r\n        spriteFrame: null,\r\n    }, {\r\n        image: 'animals/dog',\r\n        type: '3',\r\n        spriteFrame: null\r\n    }]\r\n    public foodDatas = [{\r\n        image: 'foods/food-bird',\r\n        type: '0',\r\n        spriteFrame: null\r\n    }, {\r\n        image: 'foods/food-bear',\r\n        type: '1',\r\n        spriteFrame: null\r\n    }, {\r\n        image: 'foods/food-rabbit',\r\n        type: '2',\r\n        spriteFrame: null\r\n    }, {\r\n        image: 'foods/food-dog',\r\n        type: '3',\r\n        spriteFrame: null\r\n    }]\r\n    public rotateDur = 0.1\r\n    public isRotationing = false\r\n    public animalTextureRect = {\r\n        width: 264,\r\n        height: 268\r\n    }\r\n\r\n    public pauseFlag = true;\r\n    //\r\n    public isHide = false;\r\n    //\r\n    public isLookVideo = false;\r\n\r\n    public score = 0;\r\n    public timer = 0;\r\n    public lastTimer = 0;\r\n    public timePeriod = 2.5;\r\n    public currentLevel = 0;\r\n\r\n\r\n    public initTimePeriod = 0;\r\n\r\n    public minTimePeriod = 0.5;\r\n\r\n    public lastScore = 0;\r\n    public maxScore = 0;\r\n\r\n    public harderRatios = (() => {\r\n        const list = []\r\n        for (let i = 0; i <= 20; i++) {\r\n            list[i] = [i * 2, 0.1]\r\n        }\r\n        return list\r\n    })();\r\n}","import {__IC_SignalManager,ISignalManager} from \"../../Lib/Framework/Signal/SignalManager\"\r\nimport {MainModel} from '../Model/MainModel';\r\nimport { inject } from '../../lib/framework/Injector/InjectDecorator';\r\nimport { IocView } from '../../lib/extensions/IocView';\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { __IC_InjectBinder, IInjectBinder } from \"../../lib/framework/Injector/InjectBinder\";\r\nimport { MainSignalEnum } from \"../signal/MainSignalEnum\";\r\nimport Common from \"../Common\";\r\n\r\nconst {ccclass,property} = cc._decorator\r\n\r\n@ccclass\r\nexport default class MainNode extends IocView {\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl: MainModel;\r\n    @inject(__IC_InjectBinder)\r\n    inj: IInjectBinder;\r\n\r\n    onLoad() {\r\n        super.onLoad();\r\n    }\r\n\r\n    start() {\r\n        super.start();\r\n        //\r\n        this.inj.bind(cc.Node).toName(\"MainNode\").toValue(this.node).unBind();\r\n        //\r\n        this.sMgr.get(MainSignalEnum.Start).dispatch();\r\n\r\n        Common.WxGameApi.onHide(()=>{\r\n            console.info(\"[]\");\r\n            this.mMdl.isHide = true;\r\n        });\r\n        Common.WxGameApi.onShow(()=>{\r\n            console.info(\"[]]\");\r\n            this.mMdl.isHide = false;\r\n            //\r\n            if(Common.viedoHandle)Common.viedoHandle.play();\r\n        });\r\n    }\r\n\r\n    update(dt) {\r\n\r\n    }\r\n}","import {IRoot} from \"../../Lib/Framework/Context/IRoot\"\r\nimport {IContext} from \"../../Lib/Framework/Context/Context\"\r\nimport {IocRoot} from \"../../lib/extensions/IocRoot\"\r\nimport {MainContext} from \"./MainContext\"\r\nimport PersistRoot from \"../PersistRoot\";\r\nimport Common from \"../Common\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MainRoot extends IocRoot implements IRoot {\r\n    //\r\n    public context: IContext;\r\n\r\n    onLoad () {\r\n        //let context = new MainContext(this);\r\n        this.context = Common.persistRootNode.context;\r\n        //this.context.restart();\r\n    }\r\n\r\n    start () {\r\n        if(this.context){\r\n            //console.info(this.context.getRoot().node.name);\r\n        }\r\n    }\r\n}\r\n\r\n","//,\r\nexport enum MainSignalEnum{\r\n    //\r\n    Start = \"Start\",\r\n    //\r\n    Update = \"Update\",\r\n    //\r\n    Generate = \"GenerateViewNodes\",\r\n    //\r\n    Restart = \"Restart\",\r\n    //\r\n    LookRank = \"LookRank\",\r\n    //\r\n    Match = \"Match\",\r\n    //\r\n    InputControl = \"InputControl\",\r\n    //\r\n    BackHome = \"BackHome\",\r\n}\r\n\r\nexport enum GameSignalEnum{\r\n    onMatch = \"OnMatch\",\r\n    onNotMatch = \"OnNotMatch\"\r\n}","import {SignalManager} from \"../../Lib/Framework/Signal/SignalManager\"\r\n\r\nexport class MainSignalManager extends SignalManager{\r\n    info : string = \"this is a main signal manager\";\r\n}","import { Singleton } from \"./Singleton\";\r\nimport { IUtil } from \"./Util\";\r\n\r\nexport class MainUtil extends Singleton implements IUtil{\r\n    public getSceneSize(){\r\n        return cc.winSize;\r\n    }\r\n    /**\r\n     * \r\n     * @param resourceUrl \r\n     */\r\n    public spriteRes(resourceUrl) {\r\n        return new Promise<cc.SpriteFrame>((resolve, reject) => {\r\n            cc.loader.loadRes(resourceUrl, cc.SpriteFrame, (err, spriteFrame : cc.SpriteFrame) => {\r\n                if (err) throw err\r\n                resolve(spriteFrame);\r\n            })\r\n        })\r\n    }\r\n    \r\n    public randomCoin() {\r\n        return Math.round(Math.random())\r\n    }\r\n    \r\n    public randomNumber(size) {\r\n        return Math.floor(Math.random() * size)\r\n    }\r\n    \r\n    public randomValue(...values) {\r\n        return values[this.randomNumber(values.length)]\r\n    }\r\n}","import { IConstructorName } from \"../../lib/framework/IocConst\";\r\n\r\nexport class __IC_Manager extends IConstructorName{\r\n    public get constructorName(){\r\n        return \"IManager\";\r\n    }\r\n}\r\nexport interface IManager{\r\n\r\n}\r\n/**\r\n * \r\n */\r\nexport enum ManagerType{\r\n    Prefab = \"Prefab\",\r\n    Audio = \"Audio\",\r\n}","import { Command } from \"../../lib/framework/Command/Command\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport Common from \"../Common\";\r\nimport Food from \"../view/Food\";\r\nimport { GameSignalEnum } from \"../signal/MainSignalEnum\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport PauseNode from \"../view/PauseNode\";\r\nimport { __IC_Manager, ManagerType } from \"../util/Manager\";\r\nimport AudioManager from \"../util/AudioManager\";\r\n\r\n//\r\nexport class MatchCommand extends Command{\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n    @inject(__IC_Manager,ManagerType.Audio)\r\n    aMgr : AudioManager;\r\n    @inject(cc.Node,\"Score\")\r\n    scoreNode : cc.Node;\r\n    @inject(cc.Node,\"Pause\")\r\n    pauseNode : cc.Node;\r\n\r\n    execute(match){\r\n        //console.info(\"[]\");\r\n        switch(match){\r\n            case GameSignalEnum.onMatch:\r\n                this.onMatch();\r\n                break;\r\n            case GameSignalEnum.onNotMatch:\r\n                this.onNotMatch();\r\n                break;\r\n        }\r\n    }\r\n    //\r\n    gainPoint() {\r\n        this.aMgr.play(\"Score\");\r\n        this.mMdl.score++\r\n        this.scoreNode.getComponent(cc.Label).string = 'Score: ' + Number(this.mMdl.score)\r\n    }\r\n    onMatch() {\r\n        this.gainPoint()\r\n    }\r\n\r\n    onNotMatch() {\r\n        this.mMdl.pauseFlag = true\r\n        this.pauseNode.active = true\r\n        this.pauseNode.getComponent(PauseNode).show();\r\n        this.pauseNode.getComponent(PauseNode).updateScore(this.mMdl.score);\r\n        this.stopAllCurrent();\r\n    }\r\n\r\n    stopAllCurrent() {\r\n        //console.info(\"[]\");\r\n        //let a = Common.persistRootNode;\r\n        if(this.mMdl.currentFoodNodes&&this.mMdl.currentFoodNodes.length>0){\r\n            this.mMdl.currentFoodNodes.forEach(foodNode => {\r\n                foodNode.getComponent(Food).inited = false\r\n            })\r\n        }\r\n    }\r\n}","import { IConstructorName } from \"../../lib/framework/IocConst\";\r\n\r\nexport class __IC_Model extends IConstructorName{\r\n    public get constructorName(){\r\n        return \"IModel\"\r\n    }\r\n}\r\nexport interface IModel{\r\n\r\n}\r\n/**\r\n * \r\n */\r\nexport enum ModelType{\r\n    Main = \"Main\",\r\n    Input = \"Input\",\r\n}","import { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { IocView } from \"../../lib/extensions/IocView\";\r\nimport { MainSignalEnum } from \"../signal/MainSignalEnum\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { MainModel } from \"../Model/MainModel\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PauseNode extends IocView {\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl:MainModel\r\n    @property(cc.Label)\r\n    score:cc.Label = null;\r\n    @property(cc.Sprite)\r\n    mainButton:cc.Sprite = null;\r\n    @property(cc.Label)\r\n    mainTop:cc.Label = null;\r\n    @property(cc.Label)\r\n    mainBotton:cc.Label = null;\r\n    @property(cc.SpriteFrame)\r\n    playVideo : cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    replayFrame : cc.SpriteFrame = null;\r\n\r\n    onLoad () {\r\n        super.onLoad();\r\n    }\r\n\r\n    start () {\r\n        super.start();\r\n    }\r\n    show(){\r\n        //\r\n        if(this.mMdl.isLookVideo){\r\n            console.info(\"[]\");\r\n            this.mainButton.spriteFrame = this.replayFrame;\r\n            this.mainTop.string = \"\";\r\n            this.mainBotton.string = \"\";\r\n        }else{\r\n            console.info(\"[]\");\r\n            this.mainButton.spriteFrame = this.playVideo;\r\n            this.mainTop.string = \"\";\r\n            this.mainBotton.string = \"\";\r\n        }\r\n    }\r\n    updateScore(value){\r\n        this.score.string = value;\r\n    } \r\n    //\r\n    onRestartClicked(){\r\n        console.info(\"[]\"+this.mMdl.isLookVideo);\r\n        if(this.mMdl.isLookVideo){\r\n            this.sMgr.get(MainSignalEnum.Restart).dispatch(false);\r\n        }\r\n        else{\r\n            //\r\n            this.sMgr.get(MainSignalEnum.Restart).dispatch(true);\r\n        }\r\n    }\r\n    //\r\n    onLookRankClicked(){\r\n        this.sMgr.get(MainSignalEnum.LookRank).dispatch();\r\n    }\r\n    onBackHomeClicked(){\r\n        this.sMgr.get(MainSignalEnum.BackHome).dispatch();\r\n    }\r\n    // update (dt) {}\r\n}\r\n","import Common from \"./Common\";\r\nimport PrefabManager from \"./util/PrefabManager\";\r\nimport { IRoot } from \"../lib/framework/Context/IRoot\";\r\nimport { MainContext } from \"./context/MainContext\";\r\nimport AudioManager from \"./util/AudioManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PersistRoot extends cc.Component implements IRoot {\r\n    public context;\r\n\r\n    @property([cc.Prefab])\r\n    prefabs: Array<cc.Prefab> = [];\r\n    @property([cc.AudioClip])\r\n    clips: Array<cc.AudioClip> = [];\r\n    @property([cc.AudioSource])\r\n    audios: Array<cc.AudioSource> = [];\r\n    @property(cc.AudioSource)\r\n    bgm:cc.AudioSource = null;\r\n\r\n\r\n    onLoad () {\r\n        //\r\n        if(Common.isInit)return;\r\n        Common.isInit = true;\r\n        console.info(\"[]\"+Common.version);\r\n        //\r\n        if(!Common.persistRootNode){\r\n            cc.game.addPersistRootNode(this.node);\r\n            Common.persistRootNode = this;\r\n        }\r\n        this.context = new MainContext(this)\r\n        this.loadPrefab();\r\n        this.loadAudio();\r\n    }\r\n    loadPrefab(){\r\n        this.prefabs.forEach(prefab => {\r\n            PrefabManager.Instance.setPrefab(prefab.name,prefab);\r\n        });\r\n    }\r\n    loadAudio(){\r\n        this.clips.forEach(audio=>{\r\n            AudioManager.Instance.setAudio(audio.name,audio);\r\n        });\r\n        AudioManager.Instance.bgm = this.bgm;\r\n        AudioManager.Instance.audios = this.audios;\r\n        AudioManager.Instance.playBgm();\r\n\r\n    }\r\n    start () {\r\n\r\n    }\r\n    // update (dt) {}\r\n}\r\n","import {Stack} from \"./Stack\"\r\nimport { IConstructorName } from \"../framework/IocConst\";\r\nimport {inject} from \"../framework/Injector/InjectDecorator\";\r\nimport {Prototype} from \"./Prototype\"\r\n\r\nexport enum PoolOverflowBehavior\r\n{\r\n    /// Requesting more than the fixed size will throw an exception.\r\n    EXCEPTION,\r\n    \r\n    /// Requesting more than the fixed size will throw a warning.\r\n    WARNING,\r\n\r\n    /// Requesting more than the fixed size will return null and not throw an error.\r\n    IGNORE\r\n}\r\nexport enum BindingConstraintType\r\n{\r\n    /// Constrains a SemiBinding to carry no more than one item in its Value\r\n    ONE,\r\n    /// Constrains a SemiBinding to carry a list of items in its Value\r\n    MANY,\r\n    /// Instructs the Binding to apply a Pool instead of a SemiBinding\r\n    POOL,\r\n}\r\nexport enum PoolInflationType\r\n{\r\n    /// When a dynamic pool inflates, add one to the pool.\r\n    INCREMENT,\r\n\r\n    /// When a dynamic pool inflates, double the size of the pool\r\n    DOUBLE\r\n}\r\nexport interface IPoolable\r\n{\r\n    /// <summary>\r\n    /// Clean up this instance for reuse.\r\n    /// </summary>\r\n    /// Restore methods should clean up the instance sufficiently to remove prior state.\r\n    restore ();\r\n\r\n    /// <summary>\r\n    /// Keep this instance from being returned to the pool \r\n    /// </summary>\r\n    retain ();\r\n\r\n    /// <summary>\r\n    /// Release this instance back to the pool.\r\n    /// </summary>\r\n    /// Release methods should clean up the instance sufficiently to remove prior state.\r\n    release();\r\n\r\n    /// <summary>\r\n    /// Is this instance retained?\r\n    /// </summary>\r\n    /// <value><c>true</c> if retained; otherwise, <c>false</c>.</value>\r\n    isRetain : boolean;\r\n}\r\nexport interface IInstanceProvider{\r\n    /// Retrieve an Instance based on the key.\r\n    /// ex. `injectionBinder.Get<cISomeInterface>();`\r\n    //getInstance<T>() : T;\r\n\r\n    /// Retrieve an Instance based on the key.\r\n    /// ex. `injectionBinder.Get(typeof(ISomeInterface));`\r\n    getInstance(key : object) : object;\r\n}\r\nexport class __IC_InstanceProvider extends IConstructorName{\r\n    //getInstance<T>() : T{return;} \r\n    get constructorName(){return \"IInstanceProvider\";}\r\n}\r\nexport interface IManagedList\r\n{\r\n    /// Add a value to this List. \r\n    add( value : object) : IManagedList;\r\n\r\n    /// Add a set of values to this List. \r\n    add( list : object[]) : IManagedList;\r\n\r\n    /// Remove a value from this List. \r\n    remove( value : object) : IManagedList;\r\n\r\n    /// Remove a set of values from this List. \r\n    remove( list : object[]) : IManagedList;\r\n\r\n    /// Retrieve the value of this List.\r\n    /// If the constraint is MANY, the value will be an Array.\r\n    /// If the constraint is POOL, this becomes a synonym for GetInstance().\r\n    value : object;\r\n}\r\nexport interface IPool extends IManagedList\r\n{\r\n    /// A class that provides instances to the pool when it needs them.\r\n    /// This can be the InjectionBinder, or any class you write that satisfies the IInstanceProvider\r\n    /// interface.\r\n    instanceProvider : IInstanceProvider;\r\n\r\n    /// The object Type of the first object added to the pool.\r\n    /// Pool objects must be of the same concrete type. This property enforces that requirement. \r\n    poolType : object;\r\n    /// <summary>\r\n    /// Gets an instance from the pool if one is available.\r\n    /// </summary>\r\n    /// <returns>The instance.</returns>\r\n    getInstance() : object;\r\n\r\n    /// <summary>\r\n    /// Returns an instance to the pool.\r\n    /// </summary>\r\n    /// If the instance being released implements IPoolable, the Release() method will be called.\r\n    /// <param name=\"value\">The instance to be return to the pool.</param>\r\n    returnInstance (value : object);\r\n\r\n    /// <summary>\r\n    /// Remove all instance references from the Pool.\r\n    /// </summary>\r\n    clean ();\r\n\r\n    /// <summary>\r\n    /// Returns the count of non-committed instances\r\n    /// </summary>\r\n    available : number;\r\n\r\n    /// <summary>\r\n    /// Gets or sets the size of the pool.\r\n    /// </summary>\r\n    /// <value>The pool size. '0' is a special value indicating infinite size. Infinite pools expand as necessary to accomodate requirement.</value>\r\n    size : number;\r\n\r\n    /// <summary>\r\n    /// Returns the total number of instances currently managed by this pool.\r\n    /// </summary>\r\n    instanceCount : number;\r\n\r\n    /// <summary>\r\n    /// Gets or sets the overflow behavior of this pool.\r\n    /// </summary>\r\n    /// <value>A PoolOverflowBehavior value.</value>\r\n    overflowBehavior : PoolOverflowBehavior;\r\n\r\n    /// <summary>\r\n    /// Gets or sets the type of inflation for infinite-sized pools.\r\n    /// </summary>\r\n    /// By default, a pool doubles its InstanceCount.\r\n    /// <value>A PoolInflationType value.</value>\r\n    inflationType : PoolInflationType;\r\n}\r\nexport class Pool implements IPool, IPoolable\r\n{\r\n\r\n    @inject(__IC_InstanceProvider)\r\n    public instanceProvider : IInstanceProvider\r\n\r\n    /// Stack of instances still in the Pool.\r\n    protected instancesAvailable : Stack<any> = new Stack<any> ();\r\n\r\n    /// A HashSet of the objects checked out of the Pool.\r\n    protected instancesInUse :Set<object>= new Set<object> ();\r\n\r\n    protected _instanceCount : number;\r\n\r\n    public size : number;\r\n\r\n    public overflowBehavior : PoolOverflowBehavior;\r\n\r\n    public inflationType : PoolInflationType;\r\n\r\n    public uniqueValues : boolean;\r\n\r\n    public constraint : any;\r\n\r\n    public poolType : object;\r\n    \r\n    public isRetain : boolean;\r\n\r\n    public Pool ()\r\n    {\r\n        this.size = 0;\r\n        this.constraint = BindingConstraintType.POOL;\r\n        this.uniqueValues = true;\r\n        \r\n        this.overflowBehavior = PoolOverflowBehavior.EXCEPTION;\r\n        this.inflationType = PoolInflationType.DOUBLE;\r\n    }\r\n    public bind(type){\r\n        this.poolType = type;\r\n    }\r\n\r\n    public add ( value : object) : IManagedList\r\n    {\r\n        //\r\n        this.failIf(!Prototype.isProtetype(value,this.poolType) , \" Pool Type mismatch. Pools must consist of a common concrete type.\\n\\t\\tPool type: \" + this.poolType + \"\\n\\t\\tMismatch type: \" + value);\r\n        this._instanceCount++;\r\n        this.instancesAvailable.push (value);\r\n        return this;\r\n    }\r\n    public addList (list : object[]) : IManagedList\r\n    {\r\n        if(list&&list.length>0){\r\n            list.forEach((item : object)=>{\r\n                this.add (item);\r\n            });\r\n        }\r\n        return this;\r\n    }\r\n    public remove (value : object) : IManagedList\r\n    {\r\n        this._instanceCount--;\r\n        this.removeInstance (value);\r\n        return this;\r\n    }\r\n\r\n    public removeList (list : object[]) : IManagedList\r\n    {\r\n        if(list&&list.length>0){\r\n            list.forEach((item : object)=>{\r\n                this.remove(item);\r\n            });\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public get value() : object\r\n    {\r\n        return this.getInstance ();\r\n    }\r\n\r\n    /// The object Type of the first object added to the pool.\r\n    /// Pool objects must be of the same concrete type. This property enforces that requirement. \r\n\r\n    public get instanceCount() : number\r\n    {\r\n        return this._instanceCount;\r\n    }\r\n\r\n    public getInstance () : object\r\n    {\r\n        // Is an instance available?\r\n        if (this.instancesAvailable.size > 0)\r\n        {\r\n            let retv : object = this.instancesAvailable.pop ();\r\n            this.instancesInUse.add (retv);\r\n            return retv;\r\n        }\r\n\r\n        let instancesToCreate : number = 0;\r\n\r\n        //New fixed-size pool. Populate.\r\n        if (this.size > 0)\r\n        {\r\n            if (this.instanceCount == 0)\r\n            {\r\n                //New pool. Add instances.\r\n                instancesToCreate = this.size;\r\n            }\r\n            else\r\n            {\r\n                //Illegal overflow. Report and return null\r\n                this.failIf (this.overflowBehavior == PoolOverflowBehavior.EXCEPTION,\r\n                    \"A pool has overflowed its limit.\\n\\t\\tPool type: \" + this.poolType);\r\n\r\n                if (this.overflowBehavior == PoolOverflowBehavior.WARNING)\r\n                {\r\n                    console.warn (\"WARNING: A pool has overflowed its limit.\\n\\t\\tPool type: \" + this.poolType);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            //Zero-sized pools will expand.\r\n            if (this.instanceCount == 0 || this.inflationType == PoolInflationType.INCREMENT)\r\n            {\r\n                instancesToCreate = 1;\r\n            }\r\n            else\r\n            {\r\n                instancesToCreate = this.instanceCount;\r\n            }\r\n        }\r\n\r\n        if (instancesToCreate > 0)\r\n        {\r\n            this.failIf (this.instanceProvider == null, \"A Pool of type: \" + this.poolType + \" has no instance provider.\");\r\n\r\n            for (let a = 0; a < instancesToCreate; a++)\r\n            {\r\n                let newInstance : object= this.instanceProvider.getInstance (this.poolType);\r\n                this.add (newInstance);\r\n            }\r\n            return this.getInstance ();\r\n        }\r\n\r\n        //If not, return null\r\n        return null;\r\n    }\r\n\r\n    public returnInstance ( value : object)\r\n    {\r\n        if (this.instancesInUse.has (value))\r\n        {\r\n            /* if (value extends IPoolable)\r\n            {\r\n                (value as IPoolable).Restore ();\r\n            } */\r\n            (value as IPoolable).restore ();\r\n            this.instancesInUse.delete (value);\r\n            this.instancesAvailable.push (value);\r\n        }\r\n    }\r\n\r\n    public clean()\r\n    {\r\n        this.instancesAvailable.clear();\r\n        this.instancesInUse = new Set<object> ();\r\n        this._instanceCount = 0;\r\n    }\r\n\r\n    public get available() : number\r\n    {\r\n        return this.instancesAvailable.size;\r\n\r\n    }\r\n\r\n    public restore ()\r\n    {\r\n        this.clean ();\r\n        this.size = 0;\r\n    }\r\n\r\n    public retain()\r\n    {\r\n        this.isRetain = true;\r\n    }\r\n\r\n    public release()\r\n    {\r\n        this.isRetain = false;\r\n    }\r\n\r\n    /// <summary>\r\n    /// Permanently removes an instance from the Pool\r\n    /// </summary>\r\n    /// In the event that the removed Instance is in use, it is removed from instancesInUse.\r\n    /// Otherwise, it is presumed inactive, and the next available object is popped from\r\n    /// instancesAvailable.\r\n    /// <param name=\"value\">An instance to remove permanently from the Pool.</param>\r\n    protected removeInstance(value : object)\r\n    {\r\n        this.failIf (value != this.poolType, \"Attempt to remove a instance from a pool that is of the wrong Type:\\n\\t\\tPool type: \" + this.poolType.toString() + \"\\n\\t\\tInstance type: \" + value.toString());\r\n        if (this.instancesInUse.has(value))\r\n        {\r\n            this.instancesInUse.delete (value);\r\n        }\r\n        else\r\n        {\r\n            this.instancesAvailable.pop ();\r\n        }\r\n    }\r\n\r\n    protected failIf(condition : boolean, message : string)\r\n    {\r\n        if (condition)\r\n        {\r\n            throw new Error(message);\r\n        }\r\n    }\r\n}","import { Singleton } from \"./Singleton\";\r\nimport { IManager } from \"./Manager\";\r\n\r\nexport default class PrefabManager extends Singleton implements IManager{\r\n    public isInit = false;\r\n    private prefabMap : Map<any,any>\r\n\r\n    protected onConstructor(){\r\n        this.prefabMap = new Map();\r\n    }\r\n    hasPrefab(key):boolean{\r\n        return this.prefabMap.has(key);\r\n    }\r\n    getPrefab(key):cc.Prefab{\r\n        return this.prefabMap.get(key);\r\n    }\r\n    setPrefab(key,value){\r\n        this.prefabMap.set(key,value);\r\n    }\r\n\r\n}","/**\n * \n */\nexport default class PrefabPool {\n\ttype;\n\tprefab;\n\tnodePool : cc.NodePool;\n\n\tconstructor(type, prefab) {\n\t\tthis.type = type\n\t\tthis.prefab = prefab\n\t\tthis.nodePool = new cc.NodePool(type)\n\t}\n\t/**\n\t * \n\t */\n\tget() {\n\t\tlet node : cc.Node= null\n\t    if (this.nodePool.size() > 0) {\n\t        node = this.nodePool.get()\n\t    } else {\n\t        node = cc.instantiate(this.prefab)\n\t\t}\n\t\tnode.active = true;\n\t    return node\n\t}\n\t/**\n\t * \n\t * @param node \n\t */\n\tres(node : cc.Node) {\n\t\tnode.active = false;\n\t\tthis.nodePool.put(node)\n\t}\n\n}","/**\r\n * \r\n */\r\nexport class Prototype {\r\n    //\r\n    private static prototypeMap = new Map<Object,Set<Object>>();\r\n    /**\r\n     * \r\n     * @param instance \r\n     * @param prototype \r\n     */\r\n    public static isProtetype(type, prototype): boolean {\r\n        //let b = type instanceof prototype;\r\n        return type instanceof prototype;\r\n/*         if(!(type instanceof Object))return false;\r\n        let constructor = type.constructor;\r\n        if(this.prototypeMap.has(constructor)){\r\n            let sett = this.prototypeMap.get(constructor);\r\n            if(sett.has(prototype)){\r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        }\r\n        return false; */\r\n    }\r\n    /**\r\n     * \r\n     * @param instance \r\n     */\r\n    public static getPrototypeList(target) {\r\n        let that = this;\r\n        if(!this.hasPrototypeList(target)){\r\n            let extendsList;\r\n            //\r\n            extendsList = [];\r\n            //\r\n            let types = [];\r\n            //types.push(target.constructor);\r\n            //\r\n            let prototype = target.__proto__;\r\n            //\r\n            let constructor;\r\n            while (true) {\r\n                //\r\n                if (prototype) {\r\n                    //\r\n                    constructor = prototype.constructor;\r\n                    //\r\n                    if (constructor === Object) break;\r\n                    //__IC__\r\n                    if (!constructor.name.startsWith(\"__IC_\")) {\r\n                        extendsList.push(constructor);\r\n                        types.push(constructor);\r\n                        //\r\n                        types.forEach(type => {\r\n                            that.AddPrototype(type,constructor);\r\n                        });\r\n                    }\r\n                    prototype = prototype.__proto__;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }            \r\n        let values = this.prototypeMap.get(target.constructor);\r\n        return Array.from(values);\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    public static AddPrototype(tpye,prototype){\r\n        let extendSet : Set<Object>;\r\n        if(this.prototypeMap.has(tpye)){\r\n            extendSet = this.prototypeMap.get(tpye);\r\n        }else{\r\n            extendSet = new Set();\r\n            this.prototypeMap.set(tpye,extendSet);\r\n        }\r\n        //\r\n        extendSet.add(prototype);\r\n    }\r\n    /**\r\n     * \r\n     * @param instance \r\n     */\r\n    public static hasPrototypeList(target) {\r\n        if(this.prototypeMap.has(target.constructor)){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n}","import Common from \"../../common\";\r\nimport WxGameApi from \"../WxGameApi\";\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        subContextView: cc.Node,\r\n        tipsUiNode: cc.Node\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        let that = this;\r\n        this.rankType = 0;\r\n        this.shareCount = 0;\r\n        //\r\n        if (WxGameApi.isRunInWeiXin) {\r\n            wx.updateShareMenu({\r\n                withShareTicket: true,\r\n                success() {\r\n                    //console.info(\"\");\r\n                },\r\n                fail() {\r\n                    //console.info(\"\");\r\n                }\r\n            })\r\n        }\r\n        //this.subContextView.enabled = false;\r\n        //console.info(\"[]\");\r\n    },\r\n\r\n    start() {\r\n        //console.info(\"[]\");\r\n        //\r\n        if (WxGameApi.isRunInWeiXin) {\r\n            //console.info(\"[]\" + this.subContextView.width + \",\" + this.subContextView.height);\r\n            wx.getOpenDataContext().postMessage({\r\n                message: {\r\n                    type: \"command\",\r\n                    function: \"start\",\r\n                    arguments: \"default\",\r\n                    data: {\r\n                        width: this.subContextView.width,\r\n                        height: this.subContextView.height\r\n                    },\r\n                }\r\n            });\r\n        }\r\n    },\r\n    //\r\n    switchRank(event) {\r\n        //\r\n        let switchBtn = event.target;\r\n        let switchBar = event.target.getChildByName(\"Switch\");\r\n        let moveRange = switchBtn.width - switchBar.width - 10;\r\n        let that = this;\r\n        //\r\n        if (this.rankType < 1) {\r\n            this.rankType += 1;\r\n        } else {\r\n            this.rankType = 0;\r\n        }\r\n        switch (this.rankType) {\r\n            case 0:\r\n                switchBar.runAction(cc.moveBy(0.125, cc.v2(-moveRange, 0)));\r\n                if (WxGameApi.isRunInWeiXin) {\r\n                    that.hideShowTipsUi();\r\n                    //console.info(\"[]\");\r\n                    //\r\n                    wx.getOpenDataContext().postMessage({\r\n                        message: {\r\n                            type: \"command\",\r\n                            function: \"switch\",\r\n                            arguments: \"friend\",\r\n                            data: \"\",\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case 1:\r\n                switchBar.runAction(cc.moveBy(0.125, cc.v2(moveRange, 0)));\r\n                if (WxGameApi.isRunInWeiXin) {\r\n                    let ticket;\r\n                    if (Common.shareTickets && Common.shareTickets.length > 0) {\r\n                        ticket = Common.shareTickets[this.shareCount];\r\n                        if (!ticket) {\r\n                            //console.info(\"[]\" + Common.shareTickets +\",\"+ this.shareCount);\r\n                            Common.shareTickets = [];\r\n                            this.shareCount = 0;\r\n                        } else {\r\n                            //0\r\n                            if (this.shareCount >= (Common.shareTickets.length - 1)) {\r\n                                this.shareCount = 0;\r\n                            } else {\r\n                                this.shareCount += 1;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        //console.info(\"[]\");\r\n                        this.showTipsUi(\"\", \"\");\r\n                    }\r\n                    //\r\n                    if(ticket&&ticket!=\"\"){\r\n                        wx.getShareInfo({\r\n                            shareTicket : ticket,\r\n                            success(res){\r\n                                //console.info(\"[]\" + ticket + \",\" + res);\r\n                            },\r\n                            fail(err){\r\n                                //console.info(\"[]\" + ticket + \",\" + err);\r\n                            }\r\n                        })\r\n                    }else{\r\n                        ticket = \"\";\r\n                    }\r\n                    //console.info(\"[]\" + Common.shareTickets.length);\r\n                    //\r\n                    wx.getOpenDataContext().postMessage({\r\n                        message: {\r\n                            type: \"command\",\r\n                            function: \"switch\",\r\n                            arguments: \"group\",\r\n                            data: ticket,\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        //console.info(\"[]\" + this.rankType);\r\n    },\r\n\r\n    backhome() {\r\n        cc.director.loadScene(\"Begin\");\r\n        //\r\n/*         if (WxGameApi.isRunInWeiXin) {\r\n            //console.info(\"[]\" + this.subContextView.width + \",\" + this.subContextView.height);\r\n            wx.getOpenDataContext().postMessage({\r\n                message: {\r\n                    type: \"command\",\r\n                    function: \"clear\",\r\n                    arguments: \"\",\r\n                    data: \"\",\r\n                }\r\n            });\r\n        } */\r\n    },\r\n\r\n    shareApp() {\r\n        if (!WxGameApi.isRunInWeiXin) return;\r\n        let url = \"https://636f-common-510ecc-1257233686.tcb.qcloud.la/share_rabbit.png?sign=9875d25b3df98df73fbaf7ae9dcdb860&t=1538207291\";\r\n        let that = this;\r\n        wx.shareAppMessage({\r\n            title: \"\",\r\n            imageUrl: url,\r\n            success(res) {\r\n                //console.info(\"[]\" + res.shareTickets);\r\n                //\r\n                if (!res.shareTickets || res.shareTickets === \"\") {\r\n                    //console.info(\"[]\");\r\n                    if(that.rankType === 1){\r\n                        that.showTipsUi(\"\", \"\");\r\n                    }\r\n                } else {\r\n                    that.hideShowTipsUi();\r\n                    //console.info(\"[]\" + res.shareTickets);\r\n                    //\r\n                    if (res.shareTickets.length > 0) {\r\n                        let isExist = false;\r\n                        //\r\n                        for (let i = 0; i < res.shareTickets.length; i++) {\r\n                            for (let j = 0; j < Common.shareTickets.length; j++) {\r\n                                //\r\n                                if (res.shareTickets[i] === Common.shareTickets[j]) {\r\n                                    isExist = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (!isExist) {\r\n                                //console.info(\"[]\" + res.shareTickets[i]);\r\n                                Common.shareTickets.push(res.shareTickets[i]);\r\n                            }\r\n                        }\r\n                    }\r\n                    //\r\n                    if(that.rankType === 1){\r\n                        //\r\n                        wx.getOpenDataContext().postMessage({\r\n                            message: {\r\n                                type: \"command\",\r\n                                function: \"switch\",\r\n                                arguments: \"group\",\r\n                                data: res.shareTickets,\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            fail(res) {\r\n                //console.info(\"[]\");\r\n            }\r\n        });\r\n\r\n    },\r\n    //\r\n    showTipsUi(title, content) {\r\n        if(!this.tipsUiNode)return;\r\n        let tipsUiView = this.tipsUiNode.getComponent(\"TipsUiView\");\r\n        if (!this.tipsUiNode.active) {\r\n            this.tipsUiNode.active = true;\r\n        }\r\n        if (tipsUiView) {\r\n            tipsUiView.display(title, content);\r\n        } else {\r\n            //console.info(\"[UI]\");\r\n        }\r\n    },\r\n    hideShowTipsUi(){\r\n        if(!this.tipsUiNode)return;\r\n        if (this.tipsUiNode.active) {\r\n            this.tipsUiNode.active = false;\r\n        }\r\n    }\r\n});","import { Command } from \"../../lib/framework/Command/Command\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport Common from \"../Common\";\r\nimport { __IC_Util, UtilType } from \"../util/Util\";\r\nimport { MainUtil } from \"../util/MainUtil\";\r\nimport { __IC_Manager, ManagerType } from \"../util/Manager\";\r\nimport PrefabManager from \"../util/PrefabManager\";\r\nimport CountDownView from \"../view/CountDownView\";\r\n\r\n//\r\nexport class RestartCommand extends Command{\r\n    @inject(cc.Node,\"Pause\")\r\n    pauseNode : cc.Node;\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n    @inject(__IC_Util,UtilType.Main)\r\n    mUtl : MainUtil;\r\n    @inject(cc.Node,\"Score\")\r\n    scoreNode : cc.Node;\r\n    @inject(__IC_Manager,ManagerType.Prefab)\r\n    preMgr : PrefabManager;\r\n    @inject(cc.Node,\"MainNode\")\r\n    mainNode : cc.Node;\r\n\r\n    execute(isPlayVideo){\r\n        //console.info(\"[]\");\r\n        this.revive();\r\n        //\r\n        if(isPlayVideo){\r\n            this.playVideo();\r\n        }else{\r\n            console.info(\"[]\");\r\n            this.restart(true);\r\n        }\r\n    }\r\n    playVideo(){\r\n        //\r\n        if(!this.mMdl.isLookVideo){\r\n            this.mMdl.isLookVideo = true;\r\n        }\r\n        //\r\n        if(Common.WxGameApi.isRunInWeiXin){\r\n            console.info(\"[]\");\r\n            //\r\n            if(Common.viedo){\r\n                let width = this.mUtl.getSceneSize().width*0.25;\r\n                let height = this.mUtl.getSceneSize().width*0.25;\r\n                let x = width/4;\r\n                let y = this.mUtl.getSceneSize().height/4 - height;\r\n                let url = Common.viedo;\r\n                Common.WxGameApi.checkCacheExistFile(url,(result)=>{\r\n                    if(result){\r\n                        //\r\n                        Common.viedoHandle = Common.WxGameApi.playVideo(x,y,width,height,url,10000,true,()=>{\r\n                            //\r\n                            this.restart(false);\r\n                        });\r\n                        console.info(\"[]\");\r\n                    }else{\r\n                        console.info(\"[]\");\r\n                        this.restart(false);\r\n                    }\r\n                })\r\n            }else{\r\n                console.info(\"[]\");\r\n                this.restart(false);\r\n            }\r\n        }else{\r\n            console.info(\"[]\");\r\n            this.restart(false);\r\n        }\r\n    }\r\n    //\r\n    revive() {\r\n        this.pauseNode.active = false\r\n        this.clearAllCurrent()\r\n    }\r\n    //\r\n    result(){\r\n        this.mMdl.isLookVideo = false;\r\n        this.mMdl.lastScore = this.mMdl.score;\r\n        Common.WxGameApi.saveScore(this.mMdl.lastScore);\r\n        this.mMdl.score = 0;\r\n        this.scoreNode.getComponent(cc.Label).string = 'Score: ' + Number(this.mMdl.score)\r\n    }\r\n    /**\r\n     * \r\n     * @param isResult \r\n     */\r\n    restart(isResult:boolean){\r\n        this.mMdl.lastFoodIndex = -1\r\n        this.mMdl.lastTrack = -1\r\n        this.mMdl.lastTimer = 0\r\n        this.mMdl.timePeriod = 2.5\r\n        this.mMdl.currentLevel = 0;                    \r\n        this.mMdl.timer = this.mMdl.timePeriod;\r\n        \r\n        let waitStartTime;\r\n        let waitDurTime;\r\n        //\r\n        if(isResult){\r\n            this.result();\r\n            waitStartTime = 4;\r\n            waitDurTime = 1.5;\r\n        }else{\r\n            waitStartTime = 1;\r\n            waitDurTime = 0.75;\r\n        }\r\n\r\n        if(this.preMgr.hasPrefab(\"CountDown\")){\r\n            let countDown : cc.Node = cc.instantiate(this.preMgr.getPrefab(\"CountDown\"));\r\n            this.mainNode.addChild(countDown);\r\n            countDown.getComponent(CountDownView).config(waitStartTime,waitDurTime).onComplete(()=>{\r\n                this.mMdl.pauseFlag = false;\r\n            }).play();\r\n        }else{\r\n            this.mMdl.pauseFlag = false;\r\n        }\r\n    }\r\n\r\n    clearAllCurrent() {\r\n        if(this.mMdl.currentFoodNodes&&this.mMdl.currentFoodNodes.length>0){\r\n            this.mMdl.currentFoodNodes.forEach(foodNode => {\r\n                this.mMdl.foodPool.res(foodNode)\r\n            })\r\n        }\r\n        this.mMdl.currentFoodNodes = []\r\n    }\r\n}","import { IConstructorName } from \"../IocConst\"\r\nimport { __IC_Signal , Signal, ISignal } from \"./Signal\"\r\n\r\nexport interface ISignalManager {\r\n    get(symbol) : ISignal;\r\n    delete(symbol);\r\n    info: string;\r\n}\r\nexport class __IC_SignalManager extends IConstructorName {\r\n    static get constructorName(){return \"ISignalManager\";}\r\n}\r\nexport class SignalManager implements ISignalManager {\r\n    //\r\n    _signal_dic : Map<any,ISignal>= new Map < any, ISignal > ();\r\n    info: string = \"this is a signal manager\";\r\n\r\n    public get(symbol) : ISignal{\r\n        //\r\n        if (this._signal_dic.has(symbol)) {\r\n            //\r\n            return this._signal_dic.get(symbol);\r\n        } else {\r\n            //\r\n            let _signal = new Signal();\r\n            //\r\n            if(typeof symbol == \"string\")_signal.name = symbol;\r\n            //\r\n            //_signal.setRoot(this._context.getRoot);\r\n            //\r\n            this._signal_dic.set(symbol, _signal);\r\n            return _signal;\r\n        }\r\n    };\r\n\r\n    public delete(symbol) {\r\n        //\r\n        if (this._signal_dic.has(symbol)) {\r\n            //\r\n            return this._signal_dic.delete(symbol);\r\n        }\r\n    }\r\n}","import {IocError, IConstructorName} from \"../IocConst\"\r\nexport interface ISignal {\r\n    name;\r\n    dispatch(...args);\r\n    addListener(callback:Function);\r\n    addOnceListener(callback:Function);\r\n    removeAllListeners();\r\n    /// Returns a List<System.Type> representing the Types bindable to this Signal\r\n\tgetTypes() : object[];\r\n}\r\nexport class __IC_Signal extends IConstructorName {\r\n    static get constructorName(){return \"ISignal\";};\r\n}\r\n\r\nexport class Signal implements ISignal {\r\n    public name;\r\n    //\r\n    public _listener: Function[] = [];\r\n    public _onceListener: Function[] = [];\r\n    //\r\n    public dispatch(...args) {\r\n        let that = this;\r\n        //\r\n        if (that._listener&&that._listener.length != 0) {\r\n            this._listener.forEach(function (action) {\r\n                action(that,...args);\r\n            })\r\n        }\r\n        //\r\n        if (that._onceListener&&that._onceListener.length != 0)\r\n            this._listener.forEach(function (action) {\r\n                action(that,...args);\r\n            })\r\n        //\r\n        this._onceListener.length = 0;\r\n    }\r\n    public addListener(callback:Function){\r\n        this._listener = this.addUnique(this._listener,callback);\r\n    }\r\n    public addOnceListener(callback:Function){\r\n        this._onceListener = this.addUnique(this._onceListener,callback);\r\n    }\r\n    //\r\n    public removeAllListeners(){\r\n        this._listener.length=0;\r\n        this._onceListener.length=0;\r\n    }\r\n    //\r\n    private addUnique(listeners : Function[], callback : Function)\r\n    {\r\n        //\r\n        if (listeners)\r\n        {\r\n            let isUnique = false;\r\n            for(let i = 0;i<listeners.length;i++){\r\n                //\r\n                if(listeners[i] === callback){\r\n                    isUnique = true;\r\n                    break;\r\n                }\r\n            }\r\n            if(!isUnique){\r\n                //\r\n                listeners.push(callback);\r\n            }\r\n        }\r\n        return listeners;\r\n    }\r\n    public getTypes() : object[]\r\n    {\r\n        let retv = [];\r\n        //retv.push(this);\r\n        return retv;\r\n    }\r\n}","export class Singleton {\r\n    /** , **/\r\n    private static classMap: Map < any, any > = new Map();\r\n\r\n    constructor() {\r\n        let clazz: any = this.constructor;\r\n        //\r\n        if (!clazz)\r\n            return;\r\n        // \r\n        if (Singleton.classMap.has(clazz))\r\n            throw new Error(this + \" \");\r\n        else {\r\n            Singleton.classMap.set(clazz, this);\r\n            this.onConstructor();\r\n        }\r\n    }\r\n    protected onConstructor() {\r\n\r\n    }\r\n    public static get Instance() {\r\n        return Singleton.getInstanceOrCreate(this);\r\n    }\r\n\r\n    public static destroyInstance(clazz: any): void {\r\n        if (Singleton.classMap.has(clazz)) {\r\n            Singleton.classMap.get(clazz).onDestroy();\r\n            Singleton.classMap.delete(clazz);\r\n        }\r\n    }\r\n\r\n    public static getInstanceOrCreate(clazz: any,...args): any {\r\n        let instance;\r\n        if (Singleton.classMap.has(clazz)) {\r\n            instance = Singleton.classMap.get(clazz);\r\n            if (instance) {\r\n                return instance;\r\n            }\r\n        }\r\n        instance = new clazz(...args);\r\n        //SingletonSingletonclassMap\r\n        if (!(instance instanceof Singleton)) {\r\n            Singleton.classMap.set(clazz, instance);\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n\r\n    }\r\n}","export interface IStack<T> {\r\n    //\r\n    top(): T;\r\n    //\r\n    push(item: T);\r\n    //\r\n    pop(): T;\r\n    //\r\n    clear();\r\n    //\r\n    isEmpty: boolean;\r\n    //\r\n    size: number;\r\n}\r\n\r\nexport class Item<T> {\r\n    private _value: T;\r\n    private _next: Item<T>;\r\n    constructor(value: T, next: Item<T> = null) {\r\n        this._value = value;\r\n        this._next = next;\r\n    }\r\n    set value(value: T) {\r\n        this._value = value;\r\n    }\r\n    get value(): T {\r\n        return this._value;\r\n    }\r\n    set next(next: Item<T>) {\r\n        this._next = next;\r\n    }\r\n    get next(): Item<T> {\r\n        return this._next;\r\n    }\r\n}\r\n\r\nexport class Stack<T> implements IStack<T> {\r\n    private _header: Item<T>;\r\n    private _size: number = 0;\r\n    constructor() {\r\n        this._header = new Item<T>(null);\r\n    }\r\n    top(): T {\r\n        if (this._size === 0) {\r\n            return null;\r\n        }\r\n        return this._header.next.value;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param item \r\n     * headernext\r\n     * headernext\r\n     */\r\n    push(item: T) {\r\n        let newItem = new Item<T>(item);\r\n        newItem.next = this._header.next;\r\n        this._header.next = newItem;\r\n        this._size++;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * header\r\n     * headernext\r\n     */\r\n    pop(): T {\r\n        if (this._size === 0) {\r\n            return null;\r\n        }\r\n        let item = this._header.next;\r\n        this._header.next = item.next;\r\n        this._size--;\r\n        item.next = null;//\r\n        return item.value;\r\n    }\r\n    clear(){\r\n        let item;\r\n        let tmp = this._header;\r\n        while(this._size !== 0){\r\n            item = tmp.next;\r\n            tmp = item;\r\n            item.next = null;\r\n            this._size--;\r\n        }\r\n        this._header = null;\r\n    }\r\n    get isEmpty(): boolean {\r\n        return this._size === 0;\r\n    }\r\n\r\n    get size(): number {\r\n        return this._size;\r\n    }\r\n}","import {__IC_SignalManager, ISignalManager} from \"../../Lib/Framework/Signal/SignalManager\"\r\nimport { Command } from \"../../lib/framework/Command/Command\";\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport { MainSignalEnum } from \"../signal/MainSignalEnum\";\r\nimport { MainUtil } from \"../util/MainUtil\";\r\nimport PrefabPool from \"../helper/PrefabPool\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { __IC_Manager, ManagerType } from \"../util/Manager\";\r\nimport PrefabManager from \"../util/PrefabManager\";\r\nimport { __IC_InjectBinder, IInjectBinder } from \"../../lib/framework/Injector/InjectBinder\";\r\nimport { __IC_Util, UtilType } from \"../util/Util\";\r\nimport CountDownView from \"../view/CountDownView\";\r\n\r\n//\r\nexport class StartCommand extends Command{\r\n    @inject(__IC_SignalManager)\r\n    sMgr : ISignalManager;\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n    @inject(__IC_Util,UtilType.Main)\r\n    mUtil : MainUtil;\r\n    //\r\n    @inject(__IC_Manager,ManagerType.Prefab)\r\n    preMgr : PrefabManager;\r\n    @inject(__IC_InjectBinder)\r\n    inj: IInjectBinder;\r\n    @inject(cc.Node,\"LogicNode\")\r\n    logicNode : cc.Node;\r\n    @inject(cc.Node,\"MainNode\")\r\n    mainNode : cc.Node;\r\n\r\n    //\r\n    execute(){\r\n        //console.log(\"[]\");\r\n\r\n        this.lanuch();\r\n        this.start();\r\n    }\r\n    start(){\r\n    }\r\n    //\r\n    lanuch(){\r\n        const manager = cc.director.getCollisionManager()\r\n        manager.enabled = true\r\n\r\n        this.loadRes();\r\n        //\r\n        this.sMgr.get(MainSignalEnum.Generate).dispatch(()=>{\r\n            //\r\n            this.sMgr.get(MainSignalEnum.InputControl).dispatch();\r\n            //\r\n            this.sMgr.get(MainSignalEnum.Restart).dispatch(false);\r\n        });\r\n    }\r\n\r\n\r\n    loadRes(){\r\n        if(!this.preMgr.isInit){\r\n            //\r\n            if(this.preMgr.hasPrefab(\"Animal\")){\r\n                this.inj.bind(cc.Prefab).toName(\"Animal\").toValue(this.preMgr.getPrefab(\"Animal\"));\r\n            }\r\n            if(this.preMgr.hasPrefab(\"Food\")){\r\n                this.inj.bind(cc.Prefab).toName(\"Food\").toValue(this.preMgr.getPrefab(\"Food\"));\r\n            }\r\n            this.preMgr.isInit = true;\r\n        }\r\n        \r\n        //\r\n        if(this.preMgr.hasPrefab(\"Scene\")){\r\n            let scene : cc.Node = cc.instantiate(this.preMgr.getPrefab(\"Scene\"));\r\n            this.mainNode.addChild(scene);\r\n            let avatar = scene.getChildByName(\"Avatar\");\r\n            let animals = avatar.getChildByName(\"Animals\");\r\n            let score = scene.getChildByName(\"Score\");\r\n            let foodArea = scene.getChildByName(\"FoodArea\");\r\n\r\n            this.inj.bind(cc.Node).toName(\"Scene\").toValue(scene).unBind();\r\n            this.inj.bind(cc.Node).toName(\"Avatar\").toValue(avatar).unBind();\r\n            this.inj.bind(cc.Node).toName(\"Animals\").toValue(animals).unBind();\r\n            this.inj.bind(cc.Node).toName(\"Score\").toValue(score).unBind();\r\n            this.inj.bind(cc.Node).toName(\"FoodArea\").toValue(foodArea).unBind();\r\n\r\n        }else{\r\n            throw new Error(\"Scene prefab is not found\");\r\n        }\r\n        if(this.preMgr.hasPrefab(\"PauseLayer\")){\r\n            let pause : cc.Node = cc.instantiate(this.preMgr.getPrefab(\"PauseLayer\"));\r\n            this.mainNode.addChild(pause);\r\n            pause.active = false;\r\n\r\n            this.inj.bind(cc.Node).toName(\"Pause\").toValue(pause).unBind();\r\n        }else{\r\n            throw new Error(\"Pause layer prefab is not found\");\r\n        }\r\n    }\r\n}","const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TipsUiView extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n\r\n    @property(cc.RichText)\r\n    text: cc.RichText = null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        \r\n    }\r\n    display(title,content){\r\n        this.label.string = title;\r\n        this.text.string = content;\r\n\r\n    }\r\n    onClicked(){\r\n        this.node.active = false;\r\n    }\r\n    // update (dt) {}\r\n}\r\n","import {Singleton} from \"./Singleton\";\r\nimport { IUtil } from \"./Util\";\r\n\r\n\r\nexport class TouchUtil extends Singleton implements IUtil{\r\n    private areaMap;\r\n    //\r\n    private globalAreaStatus : AreaStatus;\r\n\r\n    onConstructor(){\r\n        this.areaMap = new Map();\r\n    }\r\n    /**\r\n     * \r\n     * @param area \r\n     * @param isGlobal \r\n     */\r\n    public registerTouchArea(area: cc.Node,isGlobal:boolean = false) {\r\n        let areaStatus;\r\n        //\r\n        if(this.areaMap.has(area)){\r\n            areaStatus = this.areaMap.get(area);\r\n        }else{\r\n            areaStatus = new AreaStatus();\r\n            this.areaMap.set(area,areaStatus);\r\n        }\r\n        //\r\n        if(isGlobal)this.globalAreaStatus = areaStatus;\r\n        //\r\n        area.on(cc.Node.EventType.TOUCH_START, (event: cc.Event.EventTouch) => {\r\n            let touches = event.getTouches();\r\n            touches.forEach((touch: cc.Touch) => {\r\n                let sPosX = touch.getLocationX();\r\n                let sPoxY = touch.getLocationY();\r\n                let status = new TouchStatus();\r\n                status.direction = TouchDirection.No;\r\n                status.touch = touch;\r\n                status.sPosX = sPosX;\r\n                status.sPosY = sPoxY;\r\n                status.totalX = 0;\r\n                status.totalY = 0;\r\n                status.trendX = 0;\r\n                status.trendY = 0;\r\n\r\n                //ID\r\n                areaStatus.touchMap.set(touch.getID(), status)\r\n            });\r\n        });\r\n        //\r\n        area.on(cc.Node.EventType.TOUCH_MOVE, (event: cc.Event.EventTouch) => {\r\n            let touches = event.getTouches();\r\n            touches.forEach((touch: cc.Touch) => {\r\n                if (areaStatus.touchMap.has(touch.getID())) {\r\n                    let status: TouchStatus = areaStatus.touchMap.get(touch.getID());\r\n                    let mDeltaX = touch.getDelta().x;\r\n                    let mDeltaY = touch.getDelta().y;\r\n                    status.totalX += mDeltaX;\r\n                    status.totalY += mDeltaY;\r\n\r\n                    //\r\n                    if (Math.abs(mDeltaX) > 10) {\r\n                        status.trendX += status.totalX / mDeltaX;\r\n                    }\r\n                    if (Math.abs(mDeltaY) > 10) {\r\n                        status.trendY += status.totalY / mDeltaY;\r\n                    }\r\n                    //10000\r\n                    if((status.totalX*status.totalX+status.totalY*status.totalY)>10000){\r\n                        this.disposeTouchResult(areaStatus,touch);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        //\r\n        area.on(cc.Node.EventType.TOUCH_END, (event: cc.Event.EventTouch) => {\r\n            let touches = event.getTouches();\r\n            touches.forEach((touch: cc.Touch) => {\r\n                if (areaStatus.touchMap.has(touch.getID())) {\r\n                    this.disposeTouchResult(areaStatus,touch);\r\n                }\r\n            });\r\n        });\r\n\r\n        //\r\n        area.on(cc.Node.EventType.TOUCH_CANCEL, (event: cc.Event.EventTouch) => {\r\n            let touches = event.getTouches();\r\n            touches.forEach((touch: cc.Touch) => {\r\n                if (areaStatus.touchMap.has(touch.getID())) {\r\n                    this.disposeTouchResult(areaStatus,touch);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    //\r\n    disposeTouchResult(areaStatus,touch){\r\n        //\r\n        let result : TouchStatus= areaStatus.touchMoveDetection(touch);\r\n        if(result&&areaStatus.touchEvnet[result.direction]){\r\n            areaStatus.touchEvnet[result.direction].forEach(event => {\r\n                if(event && typeof event ===\"function\"){\r\n                    //\r\n                    event(result);\r\n                }\r\n            });\r\n        }\r\n        //\r\n        areaStatus.touchMap.delete(touch.getID());\r\n    }\r\n    /**\r\n     * \r\n     * @param direction \r\n     * @param callback \r\n     */\r\n    public on<T extends Function>(direction: TouchDirection, callback: T, area?: cc.Node) : T{\r\n        let areaStatus;\r\n        if(area&&this.areaMap.has(area)){\r\n            areaStatus = this.areaMap.get(area);\r\n        }else{\r\n            areaStatus = this.globalAreaStatus;\r\n        }\r\n        //\r\n        if(!areaStatus.touchEvnet[direction]){\r\n            areaStatus.touchEvnet[direction] = [];\r\n        }\r\n        areaStatus.touchEvnet[direction].push(callback);\r\n        return callback;\r\n    }\r\n    \r\n}\r\n//\r\nclass AreaStatus{\r\n    public touchEvnet;\r\n    //\r\n    public touchMap;\r\n\r\n    constructor(){\r\n        this.touchMap = new Map();\r\n        this.touchEvnet = [];\r\n    }\r\n\r\n    //\r\n    touchMoveDetection(touch: cc.Touch){\r\n        if (this.touchMap.has(touch.getID())) {\r\n            let status: TouchStatus = this.touchMap.get(touch.getID());\r\n            //\r\n            let isMoveValid = false;\r\n            //\r\n            let direction : TouchDirection= TouchDirection.No;\r\n            //10\r\n            if (Math.abs(status.totalX) > 10 || Math.abs(status.totalY) > 10) {\r\n                //0\r\n                if (status.trendX != 0 || status.trendY != 0) {\r\n                    //\r\n                    if (status.trendX === 0) {\r\n                        isMoveValid = true;\r\n                        //\r\n                        if (status.totalY > 0) {\r\n                            direction = TouchDirection.Up;\r\n                        } else {\r\n                            direction = TouchDirection.Down;\r\n                        }\r\n                    } else {\r\n                        let trend = status.totalX / status.totalY;\r\n                        //X0\r\n                        if (Math.abs(trend) > 1) {\r\n                            //\r\n                            isMoveValid = true;\r\n                            //X\r\n                            if (status.totalX > 0) {\r\n                                direction = TouchDirection.Right;\r\n                            } else {\r\n                                direction = TouchDirection.Left;\r\n                            }\r\n                        }\r\n                    }\r\n                    //\r\n                    if (!isMoveValid) {\r\n                        if (status.trendY === 0) {\r\n                            isMoveValid = true;\r\n                            if (status.totalY > 0) {\r\n                                direction = TouchDirection.Right;\r\n                            } else {\r\n                                direction = TouchDirection.Left;\r\n                            }\r\n                        } else {\r\n                            let trend = status.totalY / status.totalX;\r\n                            if (Math.abs(trend) > 1) {\r\n                                //\r\n                                isMoveValid = true;\r\n                                //Y\r\n                                if (status.totalY > 0) {\r\n                                    direction = TouchDirection.Up;\r\n                                } else {\r\n                                    direction = TouchDirection.Down;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //\r\n            if (isMoveValid) {\r\n                switch (direction) {\r\n                    case TouchDirection.No:\r\n                        status.direction = TouchDirection.No;\r\n                        return status;\r\n                    case TouchDirection.Up:\r\n                        status.direction = TouchDirection.Up;\r\n                        return status;\r\n                    case TouchDirection.Down:\r\n                        status.direction = TouchDirection.Down;\r\n                        return status;\r\n                    case TouchDirection.Left:\r\n                        status.direction = TouchDirection.Left;\r\n                        return status;\r\n                    case TouchDirection.Right:\r\n                        status.direction = TouchDirection.Right;\r\n                        return status;\r\n                }\r\n            } else {\r\n                status.direction = TouchDirection.No;\r\n                return status;\r\n            }\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n}\r\n//\r\nexport class TouchStatus {\r\n    //\r\n    public touch : cc.Touch;\r\n    //\r\n    public direction : TouchDirection;\r\n    /**\r\n     * X\r\n     */\r\n    public sPosX: number;\r\n    /**\r\n     * Y\r\n     */\r\n    public sPosY: number;\r\n    /**\r\n     * X\r\n     */\r\n    public lPosX: number;\r\n    /**\r\n     * Y\r\n     */\r\n    public lPosY: number;\r\n    /**\r\n     * X\r\n     */\r\n    public totalX: number;\r\n    /**\r\n     * Y\r\n     */\r\n    public totalY: number;\r\n    /**\r\n     * \r\n     */\r\n    public totalTime: number;\r\n    /**\r\n     * X\r\n     */\r\n    public trendX;\r\n    /**\r\n     * Y\r\n     */\r\n    public trendY;\r\n}\r\nexport enum TouchDirection{\r\n    No = -1,\r\n    Up = 0,\r\n    Down = 1,\r\n    Left = 2,\r\n    Right = 3\r\n}","import {__IC_SignalManager, ISignalManager} from \"../../Lib/Framework/Signal/SignalManager\"\r\nimport { MainModel } from \"../Model/MainModel\";\r\nimport { Command } from \"../../lib/framework/Command/Command\";\r\nimport { inject } from \"../../lib/framework/Injector/InjectDecorator\";\r\nimport Food from \"../view/Food\";\r\nimport { MainUtil } from \"../util/MainUtil\";\r\nimport { __IC_Model, ModelType } from \"../util/Model\";\r\nimport { __IC_Util, UtilType } from \"../util/Util\";\r\n\r\n//\r\nexport class UpdateCommand extends Command{\r\n    @inject(__IC_SignalManager)\r\n    sMgr : ISignalManager;\r\n    @inject(__IC_Model,ModelType.Main)\r\n    mMdl : MainModel;\r\n    @inject(cc.Node,\"Scene\")\r\n    sceneNode : cc.Node;\r\n    @inject(cc.Node,\"FoodArea\")\r\n    foodArea : cc.Node;\r\n    @inject(__IC_Util,UtilType.Main)\r\n    mUtl:MainUtil;\r\n\r\n    tickcount:number = 0;\r\n    timecount:number = 0;\r\n    //\r\n    execute(dt){\r\n        this.update(dt);\r\n    }\r\n\r\n    update(dt){\r\n        //\r\n        if(this.mMdl.isHide)return;\r\n        this.mMdl.timer += dt\r\n        if (this.mMdl.timer >= this.mMdl.lastTimer + this.mMdl.timePeriod) {\r\n            this.mMdl.lastTimer = this.mMdl.timer\r\n            this.newNode();\r\n            // \r\n            if (this.mMdl.timePeriod >= this.mMdl.minTimePeriod && this.mMdl.score > 0 && (this.mMdl.currentLevel < this.mMdl.harderRatios.length - 1)) {\r\n                let [level, ratio] = this.mMdl.harderRatios[this.mMdl.currentLevel + 1]\r\n                if (this.mMdl.score >= level) {\r\n                    this.mMdl.currentLevel++\r\n                    this.mMdl.timePeriod -= ratio\r\n                    console.log(\"[]\"+this.mMdl.timePeriod)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    newNode() {\r\n        //\r\n        let food = this.getPoolNode()\r\n        if(!food.parent){\r\n            this.foodArea.addChild(food);\r\n        }\r\n        let foodComponent : Food = food.getComponent(Food)\r\n        //\r\n        foodComponent.clear();\r\n        //\r\n        foodComponent.randomProps()\r\n        return food\r\n    }\r\n\r\n    getPoolNode() {\r\n        //\r\n        let foodNode = this.mMdl.foodPool.get();\r\n        //\r\n        this.mMdl.currentFoodNodes.push(foodNode)\r\n        return foodNode\r\n    }\r\n\r\n\r\n}","import { IConstructorName } from \"../../lib/framework/IocConst\";\r\n\r\nexport class __IC_Util extends IConstructorName{\r\n    public get constructorName(){\r\n        return \"IUtil\";\r\n    }\r\n}\r\nexport interface IUtil{\r\n\r\n}\r\n/**\r\n * \r\n */\r\nexport enum UtilType{\r\n    Main = \"Main\",\r\n    Audio = \"Audio\",\r\n    Touch = \"Touch\",\r\n}","/**\r\n * API\r\n */\r\nexport default class WxGameApi {\r\n    static get userPath() {\r\n        if (!WxGameApi.isRunInWeiXin) return\r\n        return wx.env.USER_DATA_PATH + \"/\";;\r\n    }\r\n    static get isRunInWeiXin() {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            return true\r\n        } else {\r\n            WxGameApi.errorLog();\r\n            return false;\r\n        }\r\n    }\r\n    static onHide(callback) {\r\n        if (!WxGameApi.isRunInWeiXin) return\r\n        wx.onHide(callback);\r\n    }\r\n    static onShow(callback) {\r\n        if (!WxGameApi.isRunInWeiXin) return\r\n        wx.onShow(callback);\r\n    }\r\n    static errorLog(func) {\r\n        //console.warn(\"[]\");\r\n    }\r\n\r\n    static playBGM(bgmUrl) {\r\n        if (!WxGameApi.isRunInWeiXin) return;\r\n        let bgm = wx.createInnerAudioContext()\r\n        // src  http(s) \r\n        bgm.src = bgmUrl;\r\n        bgm.loop = true;\r\n        bgm.autoplay = true;\r\n        bgm.play()\r\n        wx.onShow(() => {\r\n            bgm.play();\r\n        });\r\n    }\r\n    static playVideo(x, y, w, h, url ,overtime ,isAutoPlay, onComplete) {\r\n        if (!WxGameApi.isRunInWeiXin) return null;\r\n        let isPlayFinish = false;\r\n        console.info(\"[]\" + \"<x,y>\" + x + \",\" + y + \"<w,h>\" + w + \",\" + h);\r\n        let video = wx.createVideo({\r\n            x: x,\r\n            y: y,\r\n            width: w,\r\n            height: h,\r\n            src: url,\r\n            poster: \"\",\r\n            objectFit: \"fill\",\r\n            controls: false,\r\n            autoplay: isAutoPlay,\r\n        });\r\n        video.onEnded(() => {\r\n            isPlayFinish = true;\r\n            onComplete();\r\n            video.destroy();\r\n        });\r\n        video.onerror(() => {\r\n            isPlayFinish = true;\r\n            onComplete();\r\n            video.destroy();\r\n        });\r\n        //\r\n        setTimeout(()=>{\r\n            //\r\n            if(!isPlayFinish){\r\n                //\r\n                if(video)video.destroy();\r\n                onComplete();\r\n            }\r\n        },overtime);\r\n        return video;\r\n    }\r\n    static downFile(url, path, successCallback, failCallback) {\r\n        let userPath = WxGameApi.userPath;\r\n        //console.info(\"[]\" + userPath);\r\n        wx.downloadFile({\r\n            url: url,\r\n            header: \"\",\r\n            filePath: \"\",\r\n            success(res) {\r\n                console.info(\"[]\" + res.statusCode);\r\n                //console.info(\"[]\" + res.tempFilePath);\r\n                wx.getFileSystemManager().saveFile({\r\n                    tempFilePath: res.tempFilePath,\r\n                    filePath: userPath + path,\r\n                    success(res) {\r\n                        console.info(\"[]\" + res.savedFilePath);\r\n                        successCallback(res.savedFilePath);\r\n                    },\r\n                    fail(err) {\r\n                        console.info(\"[]\" + err.errMsg);\r\n                    }\r\n                });\r\n\r\n            },\r\n            fail(err) {\r\n                console.info(\"[]\" + err.errMsg);\r\n                failCallback(err)\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * \r\n     * @param {*} path \r\n     * @param {*} result \r\n     */\r\n    static checkCacheExistFile(path, result) {\r\n        wx.getFileSystemManager().access({\r\n            path: path,\r\n            success() {\r\n                result(true);\r\n            },\r\n            fail() {\r\n                result(false);\r\n            }\r\n        });\r\n    }\r\n    static readFile(path, successCallback, failCallback) {\r\n        wx.getFileSystemManager().readFile({\r\n            filePath: path,\r\n            success(res) {\r\n                console.info(\"[]\" + res);\r\n                successCallback(res);\r\n            },\r\n            fail(err) {\r\n                console.info(\"[]\" + err.errMsg);\r\n                failCallback(err);\r\n            }\r\n        })\r\n    }\r\n    /**\r\n     * \r\n     * @param {*} url \r\n     * @param {*} path \r\n     * @param {*} complete \r\n     */\r\n    static getOrCacheResFile(url, path, complete) {\r\n        //\r\n        let isAllowDownload;\r\n        if (!url || url === \"\") {\r\n            isAllowDownload = false;\r\n        } else {\r\n            isAllowDownload = true;\r\n        }\r\n        let resPath = WxGameApi.userPath + path;\r\n        //\r\n        WxGameApi.checkCacheExistFile(resPath, (result) => {\r\n            if (result === true) {\r\n                console.info(\"[]]\" + path);\r\n                //\r\n                complete(resPath);\r\n            } else {\r\n                //\r\n                if (isAllowDownload) {\r\n                    console.info(\"[]]\" + path);\r\n                    WxGameApi.downFile(url, path, (savedFilePath) => {\r\n                        console.info(\"[]\" + savedFilePath);\r\n                        complete(savedFilePath);\r\n                    }, (err) => {\r\n                        console.info(\"[]\" + err);\r\n                        complete(null);\r\n                    });\r\n                } else {\r\n                    console.info(\"[]]\" + path);\r\n                    //\r\n                    complete(null);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    //\r\n    static saveScore(value) {\r\n        if (!WxGameApi.isRunInWeiXin) return\r\n        console.info(\"[]\" + value);\r\n        //\r\n        wx.getOpenDataContext().postMessage({\r\n            message: {\r\n                type: \"command\",\r\n                function: \"save\",\r\n                arguments: \"score\",\r\n                data: value,\r\n            }\r\n        });\r\n    }\r\n}","export function spriteRes(resourceUrl) {\n\treturn new Promise((resolve, reject) => {\n\t\tcc.loader.loadRes(resourceUrl, cc.SpriteFrame, (err, spriteFrame) => {\n\t\t\tif (err) throw err\n\t\t\tresolve(spriteFrame)\n\t\t})\n\t})\n}\n\nexport function randomCoin() {\n\treturn Math.round(Math.random())\n}\n\nexport function randomNumber(size) {\n\treturn Math.floor(Math.random() * size)\n}\n\nexport function randomValue(...values) {\n\treturn values[randomNumber(values.length)]\n}\n\n"],"sourceRoot":"/source/","file":"project.js"}